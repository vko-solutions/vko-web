const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Landing-CgMduMdr.js","assets/Landing-mpcbamnU.css","assets/Login-C-RaK9oR.js","assets/Input.vue_vue_type_script_setup_true_lang-CkLUVwIy.js","assets/Button.vue_vue_type_script_setup_true_lang-BsPwEnMS.js","assets/Register-C7uq-Kh9.js","assets/AssetsList-w5NN-aF3.js","assets/Card.vue_vue_type_script_setup_true_lang-CZBx6Ahm.js","assets/AssetDetail-B46axLVv.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ni(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const se={},dr=[],ot=()=>{},da=()=>!1,Vs=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ii=t=>t.startsWith("onUpdate:"),Oe=Object.assign,oi=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Bc=Object.prototype.hasOwnProperty,te=(t,e)=>Bc.call(t,e),V=Array.isArray,fr=t=>ss(t)==="[object Map]",Or=t=>ss(t)==="[object Set]",Fi=t=>ss(t)==="[object Date]",J=t=>typeof t=="function",pe=t=>typeof t=="string",Qe=t=>typeof t=="symbol",ne=t=>t!==null&&typeof t=="object",fa=t=>(ne(t)||J(t))&&J(t.then)&&J(t.catch),pa=Object.prototype.toString,ss=t=>pa.call(t),Mc=t=>ss(t).slice(8,-1),ga=t=>ss(t)==="[object Object]",ai=t=>pe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Nr=ni(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qs=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Fc=/-\w/g,Ke=qs(t=>t.replace(Fc,e=>e.slice(1).toUpperCase())),Vc=/\B([A-Z])/g,Qt=qs(t=>t.replace(Vc,"-$1").toLowerCase()),Hs=qs(t=>t.charAt(0).toUpperCase()+t.slice(1)),nn=qs(t=>t?`on${Hs(t)}`:""),xt=(t,e)=>!Object.is(t,e),bs=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},_a=(t,e,r,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:r})},As=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Vi;const Ws=()=>Vi||(Vi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function li(t){if(V(t)){const e={};for(let r=0;r<t.length;r++){const s=t[r],n=pe(s)?Kc(s):li(s);if(n)for(const i in n)e[i]=n[i]}return e}else if(pe(t)||ne(t))return t}const qc=/;(?![^(]*\))/g,Hc=/:([^]+)/,Wc=/\/\*[^]*?\*\//g;function Kc(t){const e={};return t.replace(Wc,"").split(qc).forEach(r=>{if(r){const s=r.split(Hc);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function ci(t){let e="";if(pe(t))e=t;else if(V(t))for(let r=0;r<t.length;r++){const s=ci(t[r]);s&&(e+=s+" ")}else if(ne(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Gc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jc=ni(Gc);function ma(t){return!!t||t===""}function zc(t,e){if(t.length!==e.length)return!1;let r=!0;for(let s=0;r&&s<t.length;s++)r=ns(t[s],e[s]);return r}function ns(t,e){if(t===e)return!0;let r=Fi(t),s=Fi(e);if(r||s)return r&&s?t.getTime()===e.getTime():!1;if(r=Qe(t),s=Qe(e),r||s)return t===e;if(r=V(t),s=V(e),r||s)return r&&s?zc(t,e):!1;if(r=ne(t),s=ne(e),r||s){if(!r||!s)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!ns(t[o],e[o]))return!1}}return String(t)===String(e)}function ui(t,e){return t.findIndex(r=>ns(r,e))}const va=t=>!!(t&&t.__v_isRef===!0),Yc=t=>pe(t)?t:t==null?"":V(t)||ne(t)&&(t.toString===pa||!J(t.toString))?va(t)?Yc(t.value):JSON.stringify(t,ya,2):String(t),ya=(t,e)=>va(e)?ya(t,e.value):fr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[s,n],i)=>(r[on(s,i)+" =>"]=n,r),{})}:Or(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>on(r))}:Qe(e)?on(e):ne(e)&&!V(e)&&!ga(e)?String(e):e,on=(t,e="")=>{var r;return Qe(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ye;class wa{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ye,!e&&ye&&(this.index=(ye.scopes||(ye.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=ye;try{return ye=this,e()}finally{ye=r}}}on(){++this._on===1&&(this.prevScope=ye,ye=this)}off(){this._on>0&&--this._on===0&&(ye=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(this.effects.length=0,r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function ba(t){return new wa(t)}function Ea(){return ye}function Qc(t,e=!1){ye&&ye.cleanups.push(t)}let ae;const an=new WeakSet;class Sa{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ye&&ye.active&&ye.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,an.has(this)&&(an.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ta(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,qi(this),Aa(this);const e=ae,r=Ye;ae=this,Ye=!0;try{return this.fn()}finally{Ra(this),ae=e,Ye=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)fi(e);this.deps=this.depsTail=void 0,qi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?an.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Pn(this)&&this.run()}get dirty(){return Pn(this)}}let Oa=0,$r,Dr;function Ta(t,e=!1){if(t.flags|=8,e){t.next=Dr,Dr=t;return}t.next=$r,$r=t}function hi(){Oa++}function di(){if(--Oa>0)return;if(Dr){let e=Dr;for(Dr=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;$r;){let e=$r;for($r=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=r}}if(t)throw t}function Aa(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ra(t){let e,r=t.depsTail,s=r;for(;s;){const n=s.prevDep;s.version===-1?(s===r&&(r=n),fi(s),Xc(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}t.deps=e,t.depsTail=r}function Pn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Pa(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Pa(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Kr)||(t.globalVersion=Kr,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Pn(t))))return;t.flags|=2;const e=t.dep,r=ae,s=Ye;ae=t,Ye=!0;try{Aa(t);const n=t.fn(t._value);(e.version===0||xt(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{ae=r,Ye=s,Ra(t),t.flags&=-3}}function fi(t,e=!1){const{dep:r,prevSub:s,nextSub:n}=t;if(s&&(s.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=s,t.nextSub=void 0),r.subs===t&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)fi(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function Xc(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Ye=!0;const ka=[];function _t(){ka.push(Ye),Ye=!1}function mt(){const t=ka.pop();Ye=t===void 0?!0:t}function qi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=ae;ae=void 0;try{e()}finally{ae=r}}}let Kr=0;class Zc{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class pi{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ae||!Ye||ae===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==ae)r=this.activeLink=new Zc(ae,this),ae.deps?(r.prevDep=ae.depsTail,ae.depsTail.nextDep=r,ae.depsTail=r):ae.deps=ae.depsTail=r,Ca(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=ae.depsTail,r.nextDep=void 0,ae.depsTail.nextDep=r,ae.depsTail=r,ae.deps===r&&(ae.deps=s)}return r}trigger(e){this.version++,Kr++,this.notify(e)}notify(e){hi();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{di()}}}function Ca(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)Ca(s)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Rs=new WeakMap,zt=Symbol(""),kn=Symbol(""),Gr=Symbol("");function we(t,e,r){if(Ye&&ae){let s=Rs.get(t);s||Rs.set(t,s=new Map);let n=s.get(r);n||(s.set(r,n=new pi),n.map=s,n.key=r),n.track()}}function ft(t,e,r,s,n,i){const o=Rs.get(t);if(!o){Kr++;return}const a=l=>{l&&l.trigger()};if(hi(),e==="clear")o.forEach(a);else{const l=V(t),c=l&&ai(r);if(l&&r==="length"){const u=Number(s);o.forEach((h,d)=>{(d==="length"||d===Gr||!Qe(d)&&d>=u)&&a(h)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),c&&a(o.get(Gr)),e){case"add":l?c&&a(o.get("length")):(a(o.get(zt)),fr(t)&&a(o.get(kn)));break;case"delete":l||(a(o.get(zt)),fr(t)&&a(o.get(kn)));break;case"set":fr(t)&&a(o.get(zt));break}}di()}function eu(t,e){const r=Rs.get(t);return r&&r.get(e)}function tr(t){const e=X(t);return e===t?e:(we(e,"iterate",Gr),He(t)?e:e.map(me))}function Ks(t){return we(t=X(t),"iterate",Gr),t}const tu={__proto__:null,[Symbol.iterator](){return ln(this,Symbol.iterator,me)},concat(...t){return tr(this).concat(...t.map(e=>V(e)?tr(e):e))},entries(){return ln(this,"entries",t=>(t[1]=me(t[1]),t))},every(t,e){return ct(this,"every",t,e,void 0,arguments)},filter(t,e){return ct(this,"filter",t,e,r=>r.map(me),arguments)},find(t,e){return ct(this,"find",t,e,me,arguments)},findIndex(t,e){return ct(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ct(this,"findLast",t,e,me,arguments)},findLastIndex(t,e){return ct(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ct(this,"forEach",t,e,void 0,arguments)},includes(...t){return cn(this,"includes",t)},indexOf(...t){return cn(this,"indexOf",t)},join(t){return tr(this).join(t)},lastIndexOf(...t){return cn(this,"lastIndexOf",t)},map(t,e){return ct(this,"map",t,e,void 0,arguments)},pop(){return kr(this,"pop")},push(...t){return kr(this,"push",t)},reduce(t,...e){return Hi(this,"reduce",t,e)},reduceRight(t,...e){return Hi(this,"reduceRight",t,e)},shift(){return kr(this,"shift")},some(t,e){return ct(this,"some",t,e,void 0,arguments)},splice(...t){return kr(this,"splice",t)},toReversed(){return tr(this).toReversed()},toSorted(t){return tr(this).toSorted(t)},toSpliced(...t){return tr(this).toSpliced(...t)},unshift(...t){return kr(this,"unshift",t)},values(){return ln(this,"values",me)}};function ln(t,e,r){const s=Ks(t),n=s[e]();return s!==t&&!He(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.done||(i.value=r(i.value)),i}),n}const ru=Array.prototype;function ct(t,e,r,s,n,i){const o=Ks(t),a=o!==t&&!He(t),l=o[e];if(l!==ru[e]){const h=l.apply(t,i);return a?me(h):h}let c=r;o!==t&&(a?c=function(h,d){return r.call(this,me(h),d,t)}:r.length>2&&(c=function(h,d){return r.call(this,h,d,t)}));const u=l.call(o,c,s);return a&&n?n(u):u}function Hi(t,e,r,s){const n=Ks(t);let i=r;return n!==t&&(He(t)?r.length>3&&(i=function(o,a,l){return r.call(this,o,a,l,t)}):i=function(o,a,l){return r.call(this,o,me(a),l,t)}),n[e](i,...s)}function cn(t,e,r){const s=X(t);we(s,"iterate",Gr);const n=s[e](...r);return(n===-1||n===!1)&&mi(r[0])?(r[0]=X(r[0]),s[e](...r)):n}function kr(t,e,r=[]){_t(),hi();const s=X(t)[e].apply(t,r);return di(),mt(),s}const su=ni("__proto__,__v_isRef,__isVue"),xa=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Qe));function nu(t){Qe(t)||(t=String(t));const e=X(this);return we(e,"has",t),e.hasOwnProperty(t)}class Ia{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,s){if(r==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return i;if(r==="__v_raw")return s===(n?i?pu:Da:i?$a:Na).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=V(e);if(!n){let l;if(o&&(l=tu[r]))return l;if(r==="hasOwnProperty")return nu}const a=Reflect.get(e,r,de(e)?e:s);if((Qe(r)?xa.has(r):su(r))||(n||we(e,"get",r),i))return a;if(de(a)){const l=o&&ai(r)?a:a.value;return n&&ne(l)?xn(l):l}return ne(a)?n?xn(a):is(a):a}}class ja extends Ia{constructor(e=!1){super(!1,e)}set(e,r,s,n){let i=e[r];if(!this._isShallow){const l=jt(i);if(!He(s)&&!jt(s)&&(i=X(i),s=X(s)),!V(e)&&de(i)&&!de(s))return l||(i.value=s),!0}const o=V(e)&&ai(r)?Number(r)<e.length:te(e,r),a=Reflect.set(e,r,s,de(e)?e:n);return e===X(n)&&(o?xt(s,i)&&ft(e,"set",r,s):ft(e,"add",r,s)),a}deleteProperty(e,r){const s=te(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&s&&ft(e,"delete",r,void 0),n}has(e,r){const s=Reflect.has(e,r);return(!Qe(r)||!xa.has(r))&&we(e,"has",r),s}ownKeys(e){return we(e,"iterate",V(e)?"length":zt),Reflect.ownKeys(e)}}class iu extends Ia{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const ou=new ja,au=new iu,lu=new ja(!0);const Cn=t=>t,cs=t=>Reflect.getPrototypeOf(t);function cu(t,e,r){return function(...s){const n=this.__v_raw,i=X(n),o=fr(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=n[t](...s),u=r?Cn:e?Ps:me;return!e&&we(i,"iterate",l?kn:zt),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function us(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function uu(t,e){const r={get(n){const i=this.__v_raw,o=X(i),a=X(n);t||(xt(n,a)&&we(o,"get",n),we(o,"get",a));const{has:l}=cs(o),c=e?Cn:t?Ps:me;if(l.call(o,n))return c(i.get(n));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&we(X(n),"iterate",zt),n.size},has(n){const i=this.__v_raw,o=X(i),a=X(n);return t||(xt(n,a)&&we(o,"has",n),we(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=X(a),c=e?Cn:t?Ps:me;return!t&&we(l,"iterate",zt),a.forEach((u,h)=>n.call(i,c(u),c(h),o))}};return Oe(r,t?{add:us("add"),set:us("set"),delete:us("delete"),clear:us("clear")}:{add(n){!e&&!He(n)&&!jt(n)&&(n=X(n));const i=X(this);return cs(i).has.call(i,n)||(i.add(n),ft(i,"add",n,n)),this},set(n,i){!e&&!He(i)&&!jt(i)&&(i=X(i));const o=X(this),{has:a,get:l}=cs(o);let c=a.call(o,n);c||(n=X(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,i),c?xt(i,u)&&ft(o,"set",n,i):ft(o,"add",n,i),this},delete(n){const i=X(this),{has:o,get:a}=cs(i);let l=o.call(i,n);l||(n=X(n),l=o.call(i,n)),a&&a.call(i,n);const c=i.delete(n);return l&&ft(i,"delete",n,void 0),c},clear(){const n=X(this),i=n.size!==0,o=n.clear();return i&&ft(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=cu(n,t,e)}),r}function gi(t,e){const r=uu(t,e);return(s,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?s:Reflect.get(te(r,n)&&n in s?r:s,n,i)}const hu={get:gi(!1,!1)},du={get:gi(!1,!0)},fu={get:gi(!0,!1)};const Na=new WeakMap,$a=new WeakMap,Da=new WeakMap,pu=new WeakMap;function gu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _u(t){return t.__v_skip||!Object.isExtensible(t)?0:gu(Mc(t))}function is(t){return jt(t)?t:_i(t,!1,ou,hu,Na)}function Ua(t){return _i(t,!1,lu,du,$a)}function xn(t){return _i(t,!0,au,fu,Da)}function _i(t,e,r,s,n){if(!ne(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=_u(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?s:r);return n.set(t,a),a}function It(t){return jt(t)?It(t.__v_raw):!!(t&&t.__v_isReactive)}function jt(t){return!!(t&&t.__v_isReadonly)}function He(t){return!!(t&&t.__v_isShallow)}function mi(t){return t?!!t.__v_raw:!1}function X(t){const e=t&&t.__v_raw;return e?X(e):t}function vi(t){return!te(t,"__v_skip")&&Object.isExtensible(t)&&_a(t,"__v_skip",!0),t}const me=t=>ne(t)?is(t):t,Ps=t=>ne(t)?xn(t):t;function de(t){return t?t.__v_isRef===!0:!1}function Kt(t){return La(t,!1)}function mu(t){return La(t,!0)}function La(t,e){return de(t)?t:new vu(t,e)}class vu{constructor(e,r){this.dep=new pi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:X(e),this._value=r?e:me(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,s=this.__v_isShallow||He(e)||jt(e);e=s?e:X(e),xt(e,r)&&(this._rawValue=e,this._value=s?e:me(e),this.dep.trigger())}}function pr(t){return de(t)?t.value:t}const yu={get:(t,e,r)=>e==="__v_raw"?t:pr(Reflect.get(t,e,r)),set:(t,e,r,s)=>{const n=t[e];return de(n)&&!de(r)?(n.value=r,!0):Reflect.set(t,e,r,s)}};function Ba(t){return It(t)?t:new Proxy(t,yu)}function wu(t){const e=V(t)?new Array(t.length):{};for(const r in t)e[r]=Eu(t,r);return e}class bu{constructor(e,r,s){this._object=e,this._key=r,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return eu(X(this._object),this._key)}}function Eu(t,e,r){const s=t[e];return de(s)?s:new bu(t,e,r)}class Su{constructor(e,r,s){this.fn=e,this.setter=r,this._value=void 0,this.dep=new pi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Kr-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&ae!==this)return Ta(this,!0),!0}get value(){const e=this.dep.track();return Pa(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ou(t,e,r=!1){let s,n;return J(t)?s=t:(s=t.get,n=t.set),new Su(s,n,r)}const hs={},ks=new WeakMap;let Vt;function Tu(t,e=!1,r=Vt){if(r){let s=ks.get(r);s||ks.set(r,s=[]),s.push(t)}}function Au(t,e,r=se){const{immediate:s,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=r,c=T=>n?T:He(T)||n===!1||n===0?pt(T,1):pt(T);let u,h,d,f,v=!1,y=!1;if(de(t)?(h=()=>t.value,v=He(t)):It(t)?(h=()=>c(t),v=!0):V(t)?(y=!0,v=t.some(T=>It(T)||He(T)),h=()=>t.map(T=>{if(de(T))return T.value;if(It(T))return c(T);if(J(T))return l?l(T,2):T()})):J(t)?e?h=l?()=>l(t,2):t:h=()=>{if(d){_t();try{d()}finally{mt()}}const T=Vt;Vt=u;try{return l?l(t,3,[f]):t(f)}finally{Vt=T}}:h=ot,e&&n){const T=h,j=n===!0?1/0:n;h=()=>pt(T(),j)}const b=Ea(),R=()=>{u.stop(),b&&b.active&&oi(b.effects,u)};if(i&&e){const T=e;e=(...j)=>{T(...j),R()}}let m=y?new Array(t.length).fill(hs):hs;const w=T=>{if(!(!(u.flags&1)||!u.dirty&&!T))if(e){const j=u.run();if(n||v||(y?j.some((U,B)=>xt(U,m[B])):xt(j,m))){d&&d();const U=Vt;Vt=u;try{const B=[j,m===hs?void 0:y&&m[0]===hs?[]:m,f];m=j,l?l(e,3,B):e(...B)}finally{Vt=U}}}else u.run()};return a&&a(w),u=new Sa(h),u.scheduler=o?()=>o(w,!1):w,f=T=>Tu(T,!1,u),d=u.onStop=()=>{const T=ks.get(u);if(T){if(l)l(T,4);else for(const j of T)j();ks.delete(u)}},e?s?w(!0):m=u.run():o?o(w.bind(null,!0),!0):u.run(),R.pause=u.pause.bind(u),R.resume=u.resume.bind(u),R.stop=R,R}function pt(t,e=1/0,r){if(e<=0||!ne(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,de(t))pt(t.value,e,r);else if(V(t))for(let s=0;s<t.length;s++)pt(t[s],e,r);else if(Or(t)||fr(t))t.forEach(s=>{pt(s,e,r)});else if(ga(t)){for(const s in t)pt(t[s],e,r);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&pt(t[s],e,r)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function os(t,e,r,s){try{return s?t(...s):t()}catch(n){Gs(n,e,r)}}function at(t,e,r,s){if(J(t)){const n=os(t,e,r,s);return n&&fa(n)&&n.catch(i=>{Gs(i,e,r)}),n}if(V(t)){const n=[];for(let i=0;i<t.length;i++)n.push(at(t[i],e,r,s));return n}}function Gs(t,e,r,s=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||se;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(i){_t(),os(i,null,10,[t,l,c]),mt();return}}Ru(t,r,n,s,o)}function Ru(t,e,r,s=!0,n=!1){if(n)throw t;console.error(t)}const Pe=[];let nt=-1;const gr=[];let At=null,lr=0;const Ma=Promise.resolve();let Cs=null;function Js(t){const e=Cs||Ma;return t?e.then(this?t.bind(this):t):e}function Pu(t){let e=nt+1,r=Pe.length;for(;e<r;){const s=e+r>>>1,n=Pe[s],i=Jr(n);i<t||i===t&&n.flags&2?e=s+1:r=s}return e}function yi(t){if(!(t.flags&1)){const e=Jr(t),r=Pe[Pe.length-1];!r||!(t.flags&2)&&e>=Jr(r)?Pe.push(t):Pe.splice(Pu(e),0,t),t.flags|=1,Fa()}}function Fa(){Cs||(Cs=Ma.then(qa))}function ku(t){V(t)?gr.push(...t):At&&t.id===-1?At.splice(lr+1,0,t):t.flags&1||(gr.push(t),t.flags|=1),Fa()}function Wi(t,e,r=nt+1){for(;r<Pe.length;r++){const s=Pe[r];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Pe.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Va(t){if(gr.length){const e=[...new Set(gr)].sort((r,s)=>Jr(r)-Jr(s));if(gr.length=0,At){At.push(...e);return}for(At=e,lr=0;lr<At.length;lr++){const r=At[lr];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}At=null,lr=0}}const Jr=t=>t.id==null?t.flags&2?-1:1/0:t.id;function qa(t){try{for(nt=0;nt<Pe.length;nt++){const e=Pe[nt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),os(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;nt<Pe.length;nt++){const e=Pe[nt];e&&(e.flags&=-2)}nt=-1,Pe.length=0,Va(),Cs=null,(Pe.length||gr.length)&&qa()}}let ve=null,Ha=null;function xs(t){const e=ve;return ve=t,Ha=t&&t.type.__scopeId||null,e}function Cu(t,e=ve,r){if(!e||t._n)return t;const s=(...n)=>{s._d&&$s(-1);const i=xs(e);let o;try{o=t(...n)}finally{xs(i),s._d&&$s(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function r_(t,e){if(ve===null)return t;const r=Xs(ve),s=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=se]=e[n];i&&(J(i)&&(i={mounted:i,updated:i}),i.deep&&pt(o),s.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ut(t,e,r,s){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[s];l&&(_t(),at(l,r,8,[t.el,a,t,e]),mt())}}const xu=Symbol("_vte"),Iu=t=>t.__isTeleport,ju=Symbol("_leaveCb");function wi(t,e){t.shapeFlag&6&&t.component?(t.transition=e,wi(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function bi(t,e){return J(t)?Oe({name:t.name},e,{setup:t}):t}function Wa(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Is=new WeakMap;function Ur(t,e,r,s,n=!1){if(V(t)){t.forEach((v,y)=>Ur(v,e&&(V(e)?e[y]:e),r,s,n));return}if(_r(s)&&!n){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Ur(t,e,r,s.component.subTree);return}const i=s.shapeFlag&4?Xs(s.component):s.el,o=n?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===se?a.refs={}:a.refs,h=a.setupState,d=X(h),f=h===se?da:v=>te(d,v);if(c!=null&&c!==l){if(Ki(e),pe(c))u[c]=null,f(c)&&(h[c]=null);else if(de(c)){c.value=null;const v=e;v.k&&(u[v.k]=null)}}if(J(l))os(l,a,12,[o,u]);else{const v=pe(l),y=de(l);if(v||y){const b=()=>{if(t.f){const R=v?f(l)?h[l]:u[l]:l.value;if(n)V(R)&&oi(R,i);else if(V(R))R.includes(i)||R.push(i);else if(v)u[l]=[i],f(l)&&(h[l]=u[l]);else{const m=[i];l.value=m,t.k&&(u[t.k]=m)}}else v?(u[l]=o,f(l)&&(h[l]=o)):y&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const R=()=>{b(),Is.delete(t)};R.id=-1,Is.set(t,R),De(R,r)}else Ki(t),b()}}}function Ki(t){const e=Is.get(t);e&&(e.flags|=8,Is.delete(t))}Ws().requestIdleCallback;Ws().cancelIdleCallback;const _r=t=>!!t.type.__asyncLoader,Ka=t=>t.type.__isKeepAlive;function Nu(t,e){Ga(t,"a",e)}function $u(t,e){Ga(t,"da",e)}function Ga(t,e,r=be){const s=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(zs(e,s,r),r){let n=r.parent;for(;n&&n.parent;)Ka(n.parent.vnode)&&Du(s,e,r,n),n=n.parent}}function Du(t,e,r,s){const n=zs(e,t,s,!0);za(()=>{oi(s[e],n)},r)}function zs(t,e,r=be,s=!1){if(r){const n=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{_t();const a=as(r),l=at(e,r,t,o);return a(),mt(),l});return s?n.unshift(i):n.push(i),i}}const yt=t=>(e,r=be)=>{(!Qr||t==="sp")&&zs(t,(...s)=>e(...s),r)},Uu=yt("bm"),Ja=yt("m"),Lu=yt("bu"),Bu=yt("u"),Mu=yt("bum"),za=yt("um"),Fu=yt("sp"),Vu=yt("rtg"),qu=yt("rtc");function Hu(t,e=be){zs("ec",t,e)}const Wu="components";function Ku(t,e){return Ju(Wu,t,!0,e)||t}const Gu=Symbol.for("v-ndc");function Ju(t,e,r=!0,s=!1){const n=ve||be;if(n){const i=n.type;{const a=Lh(i,!1);if(a&&(a===e||a===Ke(e)||a===Hs(Ke(e))))return i}const o=Gi(n[t]||i[t],e)||Gi(n.appContext[t],e);return!o&&s?i:o}}function Gi(t,e){return t&&(t[e]||t[Ke(e)]||t[Hs(Ke(e))])}function s_(t,e,r,s){let n;const i=r,o=V(t);if(o||pe(t)){const a=o&&It(t);let l=!1,c=!1;a&&(l=!He(t),c=jt(t),t=Ks(t)),n=new Array(t.length);for(let u=0,h=t.length;u<h;u++)n[u]=e(l?c?Ps(me(t[u])):me(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(ne(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=e(t[u],u,l,i)}}else n=[];return n}function n_(t,e,r={},s,n){if(ve.ce||ve.parent&&_r(ve.parent)&&ve.parent.ce){const c=Object.keys(r).length>0;return e!=="default"&&(r.name=e),Ns(),Dn(Ve,null,[Se("slot",r,s)],c?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),Ns();const o=i&&Ya(i(r)),a=r.key||o&&o.key,l=Dn(Ve,{key:(a&&!Qe(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||[],o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Ya(t){return t.some(e=>Yr(e)?!(e.type===vt||e.type===Ve&&!Ya(e.children)):!0)?t:null}const In=t=>t?vl(t)?Xs(t):In(t.parent):null,Lr=Oe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>In(t.parent),$root:t=>In(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Xa(t),$forceUpdate:t=>t.f||(t.f=()=>{yi(t.update)}),$nextTick:t=>t.n||(t.n=Js.bind(t.proxy)),$watch:t=>_h.bind(t)}),un=(t,e)=>t!==se&&!t.__isScriptSetup&&te(t,e),zu={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:s,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return s[e];case 2:return n[e];case 4:return r[e];case 3:return i[e]}else{if(un(s,e))return o[e]=1,s[e];if(n!==se&&te(n,e))return o[e]=2,n[e];if((c=t.propsOptions[0])&&te(c,e))return o[e]=3,i[e];if(r!==se&&te(r,e))return o[e]=4,r[e];jn&&(o[e]=0)}}const u=Lr[e];let h,d;if(u)return e==="$attrs"&&we(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(r!==se&&te(r,e))return o[e]=4,r[e];if(d=l.config.globalProperties,te(d,e))return d[e]},set({_:t},e,r){const{data:s,setupState:n,ctx:i}=t;return un(n,e)?(n[e]=r,!0):s!==se&&te(s,e)?(s[e]=r,!0):te(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:s,appContext:n,propsOptions:i,type:o}},a){let l,c;return!!(r[a]||t!==se&&a[0]!=="$"&&te(t,a)||un(e,a)||(l=i[0])&&te(l,a)||te(s,a)||te(Lr,a)||te(n.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:te(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function Ji(t){return V(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let jn=!0;function Yu(t){const e=Xa(t),r=t.proxy,s=t.ctx;jn=!1,e.beforeCreate&&zi(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:v,activated:y,deactivated:b,beforeDestroy:R,beforeUnmount:m,destroyed:w,unmounted:T,render:j,renderTracked:U,renderTriggered:B,errorCaptured:W,serverPrefetch:H,expose:ce,inheritAttrs:Te,components:Ne,directives:ke,filters:$t}=e;if(c&&Qu(c,s,null),o)for(const z in o){const Z=o[z];J(Z)&&(s[z]=Z.bind(r))}if(n){const z=n.call(r,r);ne(z)&&(t.data=is(z))}if(jn=!0,i)for(const z in i){const Z=i[z],lt=J(Z)?Z.bind(r,r):J(Z.get)?Z.get.bind(r,r):ot,bt=!J(Z)&&J(Z.set)?Z.set.bind(r):ot,Ze=Ee({get:lt,set:bt});Object.defineProperty(s,z,{enumerable:!0,configurable:!0,get:()=>Ze.value,set:Ce=>Ze.value=Ce})}if(a)for(const z in a)Qa(a[z],s,r,z);if(l){const z=J(l)?l.call(r):l;Reflect.ownKeys(z).forEach(Z=>{Es(Z,z[Z])})}u&&zi(u,t,"c");function le(z,Z){V(Z)?Z.forEach(lt=>z(lt.bind(r))):Z&&z(Z.bind(r))}if(le(Uu,h),le(Ja,d),le(Lu,f),le(Bu,v),le(Nu,y),le($u,b),le(Hu,W),le(qu,U),le(Vu,B),le(Mu,m),le(za,T),le(Fu,H),V(ce))if(ce.length){const z=t.exposed||(t.exposed={});ce.forEach(Z=>{Object.defineProperty(z,Z,{get:()=>r[Z],set:lt=>r[Z]=lt,enumerable:!0})})}else t.exposed||(t.exposed={});j&&t.render===ot&&(t.render=j),Te!=null&&(t.inheritAttrs=Te),Ne&&(t.components=Ne),ke&&(t.directives=ke),H&&Wa(t)}function Qu(t,e,r=ot){V(t)&&(t=Nn(t));for(const s in t){const n=t[s];let i;ne(n)?"default"in n?i=We(n.from||s,n.default,!0):i=We(n.from||s):i=We(n),de(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function zi(t,e,r){at(V(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,r)}function Qa(t,e,r,s){let n=s.includes(".")?hl(r,s):()=>r[s];if(pe(t)){const i=e[t];J(i)&&Br(n,i)}else if(J(t))Br(n,t.bind(r));else if(ne(t))if(V(t))t.forEach(i=>Qa(i,e,r,s));else{const i=J(t.handler)?t.handler.bind(r):e[t.handler];J(i)&&Br(n,i,t)}}function Xa(t){const e=t.type,{mixins:r,extends:s}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!r&&!s?l=e:(l={},n.length&&n.forEach(c=>js(l,c,o,!0)),js(l,e,o)),ne(e)&&i.set(e,l),l}function js(t,e,r,s=!1){const{mixins:n,extends:i}=e;i&&js(t,i,r,!0),n&&n.forEach(o=>js(t,o,r,!0));for(const o in e)if(!(s&&o==="expose")){const a=Xu[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Xu={data:Yi,props:Qi,emits:Qi,methods:Ir,computed:Ir,beforeCreate:Ae,created:Ae,beforeMount:Ae,mounted:Ae,beforeUpdate:Ae,updated:Ae,beforeDestroy:Ae,beforeUnmount:Ae,destroyed:Ae,unmounted:Ae,activated:Ae,deactivated:Ae,errorCaptured:Ae,serverPrefetch:Ae,components:Ir,directives:Ir,watch:eh,provide:Yi,inject:Zu};function Yi(t,e){return e?t?function(){return Oe(J(t)?t.call(this,this):t,J(e)?e.call(this,this):e)}:e:t}function Zu(t,e){return Ir(Nn(t),Nn(e))}function Nn(t){if(V(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Ae(t,e){return t?[...new Set([].concat(t,e))]:e}function Ir(t,e){return t?Oe(Object.create(null),t,e):e}function Qi(t,e){return t?V(t)&&V(e)?[...new Set([...t,...e])]:Oe(Object.create(null),Ji(t),Ji(e??{})):e}function eh(t,e){if(!t)return e;if(!e)return t;const r=Oe(Object.create(null),t);for(const s in e)r[s]=Ae(t[s],e[s]);return r}function Za(){return{app:null,config:{isNativeTag:da,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let th=0;function rh(t,e){return function(s,n=null){J(s)||(s=Oe({},s)),n!=null&&!ne(n)&&(n=null);const i=Za(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:th++,_component:s,_props:n,_container:null,_context:i,_instance:null,version:Mh,get config(){return i.config},set config(u){},use(u,...h){return o.has(u)||(u&&J(u.install)?(o.add(u),u.install(c,...h)):J(u)&&(o.add(u),u(c,...h))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,h){return h?(i.components[u]=h,c):i.components[u]},directive(u,h){return h?(i.directives[u]=h,c):i.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||Se(s,n);return f.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),t(f,u,d),l=!0,c._container=u,u.__vue_app__=c,Xs(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(at(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return i.provides[u]=h,c},runWithContext(u){const h=Yt;Yt=c;try{return u()}finally{Yt=h}}};return c}}let Yt=null;function Es(t,e){if(be){let r=be.provides;const s=be.parent&&be.parent.provides;s===r&&(r=be.provides=Object.create(s)),r[t]=e}}function We(t,e,r=!1){const s=ml();if(s||Yt){let n=Yt?Yt._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return r&&J(e)?e.call(s&&s.proxy):e}}function sh(){return!!(ml()||Yt)}const el={},tl=()=>Object.create(el),rl=t=>Object.getPrototypeOf(t)===el;function nh(t,e,r,s=!1){const n={},i=tl();t.propsDefaults=Object.create(null),sl(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);r?t.props=s?n:Ua(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function ih(t,e,r,s){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=X(n),[l]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Ys(t.emitsOptions,d))continue;const f=e[d];if(l)if(te(i,d))f!==i[d]&&(i[d]=f,c=!0);else{const v=Ke(d);n[v]=$n(l,a,v,f,t,!1)}else f!==i[d]&&(i[d]=f,c=!0)}}}else{sl(t,e,n,i)&&(c=!0);let u;for(const h in a)(!e||!te(e,h)&&((u=Qt(h))===h||!te(e,u)))&&(l?r&&(r[h]!==void 0||r[u]!==void 0)&&(n[h]=$n(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!te(e,h))&&(delete i[h],c=!0)}c&&ft(t.attrs,"set","")}function sl(t,e,r,s){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Nr(l))continue;const c=e[l];let u;n&&te(n,u=Ke(l))?!i||!i.includes(u)?r[u]=c:(a||(a={}))[u]=c:Ys(t.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(i){const l=X(r),c=a||se;for(let u=0;u<i.length;u++){const h=i[u];r[h]=$n(n,l,h,c[h],t,!te(c,h))}}return o}function $n(t,e,r,s,n,i){const o=t[r];if(o!=null){const a=te(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&J(l)){const{propsDefaults:c}=n;if(r in c)s=c[r];else{const u=as(n);s=c[r]=l.call(null,e),u()}}else s=l;n.ce&&n.ce._setProp(r,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Qt(r))&&(s=!0))}return s}const oh=new WeakMap;function nl(t,e,r=!1){const s=r?oh:e.propsCache,n=s.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!J(t)){const u=h=>{l=!0;const[d,f]=nl(h,e,!0);Oe(o,d),f&&a.push(...f)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return ne(t)&&s.set(t,dr),dr;if(V(i))for(let u=0;u<i.length;u++){const h=Ke(i[u]);Xi(h)&&(o[h]=se)}else if(i)for(const u in i){const h=Ke(u);if(Xi(h)){const d=i[u],f=o[h]=V(d)||J(d)?{type:d}:Oe({},d),v=f.type;let y=!1,b=!0;if(V(v))for(let R=0;R<v.length;++R){const m=v[R],w=J(m)&&m.name;if(w==="Boolean"){y=!0;break}else w==="String"&&(b=!1)}else y=J(v)&&v.name==="Boolean";f[0]=y,f[1]=b,(y||te(f,"default"))&&a.push(h)}}const c=[o,a];return ne(t)&&s.set(t,c),c}function Xi(t){return t[0]!=="$"&&!Nr(t)}const Ei=t=>t==="_"||t==="_ctx"||t==="$stable",Si=t=>V(t)?t.map(it):[it(t)],ah=(t,e,r)=>{if(e._n)return e;const s=Cu((...n)=>Si(e(...n)),r);return s._c=!1,s},il=(t,e,r)=>{const s=t._ctx;for(const n in t){if(Ei(n))continue;const i=t[n];if(J(i))e[n]=ah(n,i,s);else if(i!=null){const o=Si(i);e[n]=()=>o}}},ol=(t,e)=>{const r=Si(e);t.slots.default=()=>r},al=(t,e,r)=>{for(const s in e)(r||!Ei(s))&&(t[s]=e[s])},lh=(t,e,r)=>{const s=t.slots=tl();if(t.vnode.shapeFlag&32){const n=e._;n?(al(s,e,r),r&&_a(s,"_",n,!0)):il(e,s)}else e&&ol(t,e)},ch=(t,e,r)=>{const{vnode:s,slots:n}=t;let i=!0,o=se;if(s.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:al(n,e,r):(i=!e.$stable,il(e,n)),o=e}else e&&(ol(t,e),o={default:1});if(i)for(const a in n)!Ei(a)&&o[a]==null&&delete n[a]},De=Oh;function uh(t){return hh(t)}function hh(t,e){const r=Ws();r.__VUE__=!0;const{insert:s,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=ot,insertStaticContent:v}=t,y=(p,g,_,S=null,A=null,E=null,x=void 0,C=null,k=!!g.dynamicChildren)=>{if(p===g)return;p&&!Cr(p,g)&&(S=O(p),Ce(p,A,E,!0),p=null),g.patchFlag===-2&&(k=!1,g.dynamicChildren=null);const{type:P,ref:q,shapeFlag:N}=g;switch(P){case Qs:b(p,g,_,S);break;case vt:R(p,g,_,S);break;case Ss:p==null&&m(g,_,S,x);break;case Ve:Ne(p,g,_,S,A,E,x,C,k);break;default:N&1?j(p,g,_,S,A,E,x,C,k):N&6?ke(p,g,_,S,A,E,x,C,k):(N&64||N&128)&&P.process(p,g,_,S,A,E,x,C,k,L)}q!=null&&A?Ur(q,p&&p.ref,E,g||p,!g):q==null&&p&&p.ref!=null&&Ur(p.ref,null,E,p,!0)},b=(p,g,_,S)=>{if(p==null)s(g.el=a(g.children),_,S);else{const A=g.el=p.el;g.children!==p.children&&c(A,g.children)}},R=(p,g,_,S)=>{p==null?s(g.el=l(g.children||""),_,S):g.el=p.el},m=(p,g,_,S)=>{[p.el,p.anchor]=v(p.children,g,_,S,p.el,p.anchor)},w=({el:p,anchor:g},_,S)=>{let A;for(;p&&p!==g;)A=d(p),s(p,_,S),p=A;s(g,_,S)},T=({el:p,anchor:g})=>{let _;for(;p&&p!==g;)_=d(p),n(p),p=_;n(g)},j=(p,g,_,S,A,E,x,C,k)=>{g.type==="svg"?x="svg":g.type==="math"&&(x="mathml"),p==null?U(g,_,S,A,E,x,C,k):H(p,g,A,E,x,C,k)},U=(p,g,_,S,A,E,x,C)=>{let k,P;const{props:q,shapeFlag:N,transition:M,dirs:K}=p;if(k=p.el=o(p.type,E,q&&q.is,q),N&8?u(k,p.children):N&16&&W(p.children,k,null,S,A,hn(p,E),x,C),K&&Ut(p,null,S,"created"),B(k,p,p.scopeId,x,S),q){for(const ie in q)ie!=="value"&&!Nr(ie)&&i(k,ie,null,q[ie],E,S);"value"in q&&i(k,"value",null,q.value,E),(P=q.onVnodeBeforeMount)&&st(P,S,p)}K&&Ut(p,null,S,"beforeMount");const Q=dh(A,M);Q&&M.beforeEnter(k),s(k,g,_),((P=q&&q.onVnodeMounted)||Q||K)&&De(()=>{P&&st(P,S,p),Q&&M.enter(k),K&&Ut(p,null,S,"mounted")},A)},B=(p,g,_,S,A)=>{if(_&&f(p,_),S)for(let E=0;E<S.length;E++)f(p,S[E]);if(A){let E=A.subTree;if(g===E||fl(E.type)&&(E.ssContent===g||E.ssFallback===g)){const x=A.vnode;B(p,x,x.scopeId,x.slotScopeIds,A.parent)}}},W=(p,g,_,S,A,E,x,C,k=0)=>{for(let P=k;P<p.length;P++){const q=p[P]=C?Rt(p[P]):it(p[P]);y(null,q,g,_,S,A,E,x,C)}},H=(p,g,_,S,A,E,x)=>{const C=g.el=p.el;let{patchFlag:k,dynamicChildren:P,dirs:q}=g;k|=p.patchFlag&16;const N=p.props||se,M=g.props||se;let K;if(_&&Lt(_,!1),(K=M.onVnodeBeforeUpdate)&&st(K,_,g,p),q&&Ut(g,p,_,"beforeUpdate"),_&&Lt(_,!0),(N.innerHTML&&M.innerHTML==null||N.textContent&&M.textContent==null)&&u(C,""),P?ce(p.dynamicChildren,P,C,_,S,hn(g,A),E):x||Z(p,g,C,null,_,S,hn(g,A),E,!1),k>0){if(k&16)Te(C,N,M,_,A);else if(k&2&&N.class!==M.class&&i(C,"class",null,M.class,A),k&4&&i(C,"style",N.style,M.style,A),k&8){const Q=g.dynamicProps;for(let ie=0;ie<Q.length;ie++){const re=Q[ie],xe=N[re],Ie=M[re];(Ie!==xe||re==="value")&&i(C,re,xe,Ie,A,_)}}k&1&&p.children!==g.children&&u(C,g.children)}else!x&&P==null&&Te(C,N,M,_,A);((K=M.onVnodeUpdated)||q)&&De(()=>{K&&st(K,_,g,p),q&&Ut(g,p,_,"updated")},S)},ce=(p,g,_,S,A,E,x)=>{for(let C=0;C<g.length;C++){const k=p[C],P=g[C],q=k.el&&(k.type===Ve||!Cr(k,P)||k.shapeFlag&198)?h(k.el):_;y(k,P,q,null,S,A,E,x,!0)}},Te=(p,g,_,S,A)=>{if(g!==_){if(g!==se)for(const E in g)!Nr(E)&&!(E in _)&&i(p,E,g[E],null,A,S);for(const E in _){if(Nr(E))continue;const x=_[E],C=g[E];x!==C&&E!=="value"&&i(p,E,C,x,A,S)}"value"in _&&i(p,"value",g.value,_.value,A)}},Ne=(p,g,_,S,A,E,x,C,k)=>{const P=g.el=p?p.el:a(""),q=g.anchor=p?p.anchor:a("");let{patchFlag:N,dynamicChildren:M,slotScopeIds:K}=g;K&&(C=C?C.concat(K):K),p==null?(s(P,_,S),s(q,_,S),W(g.children||[],_,q,A,E,x,C,k)):N>0&&N&64&&M&&p.dynamicChildren?(ce(p.dynamicChildren,M,_,A,E,x,C),(g.key!=null||A&&g===A.subTree)&&ll(p,g,!0)):Z(p,g,_,q,A,E,x,C,k)},ke=(p,g,_,S,A,E,x,C,k)=>{g.slotScopeIds=C,p==null?g.shapeFlag&512?A.ctx.activate(g,_,S,x,k):$t(g,_,S,A,E,x,k):wt(p,g,k)},$t=(p,g,_,S,A,E,x)=>{const C=p.component=jh(p,S,A);if(Ka(p)&&(C.ctx.renderer=L),Nh(C,!1,x),C.asyncDep){if(A&&A.registerDep(C,le,x),!p.el){const k=C.subTree=Se(vt);R(null,k,g,_),p.placeholder=k.el}}else le(C,p,g,_,A,E,x)},wt=(p,g,_)=>{const S=g.component=p.component;if(Eh(p,g,_))if(S.asyncDep&&!S.asyncResolved){z(S,g,_);return}else S.next=g,S.update();else g.el=p.el,S.vnode=g},le=(p,g,_,S,A,E,x)=>{const C=()=>{if(p.isMounted){let{next:N,bu:M,u:K,parent:Q,vnode:ie}=p;{const tt=cl(p);if(tt){N&&(N.el=ie.el,z(p,N,x)),tt.asyncDep.then(()=>{p.isUnmounted||C()});return}}let re=N,xe;Lt(p,!1),N?(N.el=ie.el,z(p,N,x)):N=ie,M&&bs(M),(xe=N.props&&N.props.onVnodeBeforeUpdate)&&st(xe,Q,N,ie),Lt(p,!0);const Ie=eo(p),et=p.subTree;p.subTree=Ie,y(et,Ie,h(et.el),O(et),p,A,E),N.el=Ie.el,re===null&&Sh(p,Ie.el),K&&De(K,A),(xe=N.props&&N.props.onVnodeUpdated)&&De(()=>st(xe,Q,N,ie),A)}else{let N;const{el:M,props:K}=g,{bm:Q,m:ie,parent:re,root:xe,type:Ie}=p,et=_r(g);Lt(p,!1),Q&&bs(Q),!et&&(N=K&&K.onVnodeBeforeMount)&&st(N,re,g),Lt(p,!0);{xe.ce&&xe.ce._def.shadowRoot!==!1&&xe.ce._injectChildStyle(Ie);const tt=p.subTree=eo(p);y(null,tt,_,S,p,A,E),g.el=tt.el}if(ie&&De(ie,A),!et&&(N=K&&K.onVnodeMounted)){const tt=g;De(()=>st(N,re,tt),A)}(g.shapeFlag&256||re&&_r(re.vnode)&&re.vnode.shapeFlag&256)&&p.a&&De(p.a,A),p.isMounted=!0,g=_=S=null}};p.scope.on();const k=p.effect=new Sa(C);p.scope.off();const P=p.update=k.run.bind(k),q=p.job=k.runIfDirty.bind(k);q.i=p,q.id=p.uid,k.scheduler=()=>yi(q),Lt(p,!0),P()},z=(p,g,_)=>{g.component=p;const S=p.vnode.props;p.vnode=g,p.next=null,ih(p,g.props,S,_),ch(p,g.children,_),_t(),Wi(p),mt()},Z=(p,g,_,S,A,E,x,C,k=!1)=>{const P=p&&p.children,q=p?p.shapeFlag:0,N=g.children,{patchFlag:M,shapeFlag:K}=g;if(M>0){if(M&128){bt(P,N,_,S,A,E,x,C,k);return}else if(M&256){lt(P,N,_,S,A,E,x,C,k);return}}K&8?(q&16&&Fe(P,A,E),N!==P&&u(_,N)):q&16?K&16?bt(P,N,_,S,A,E,x,C,k):Fe(P,A,E,!0):(q&8&&u(_,""),K&16&&W(N,_,S,A,E,x,C,k))},lt=(p,g,_,S,A,E,x,C,k)=>{p=p||dr,g=g||dr;const P=p.length,q=g.length,N=Math.min(P,q);let M;for(M=0;M<N;M++){const K=g[M]=k?Rt(g[M]):it(g[M]);y(p[M],K,_,null,A,E,x,C,k)}P>q?Fe(p,A,E,!0,!1,N):W(g,_,S,A,E,x,C,k,N)},bt=(p,g,_,S,A,E,x,C,k)=>{let P=0;const q=g.length;let N=p.length-1,M=q-1;for(;P<=N&&P<=M;){const K=p[P],Q=g[P]=k?Rt(g[P]):it(g[P]);if(Cr(K,Q))y(K,Q,_,null,A,E,x,C,k);else break;P++}for(;P<=N&&P<=M;){const K=p[N],Q=g[M]=k?Rt(g[M]):it(g[M]);if(Cr(K,Q))y(K,Q,_,null,A,E,x,C,k);else break;N--,M--}if(P>N){if(P<=M){const K=M+1,Q=K<q?g[K].el:S;for(;P<=M;)y(null,g[P]=k?Rt(g[P]):it(g[P]),_,Q,A,E,x,C,k),P++}}else if(P>M)for(;P<=N;)Ce(p[P],A,E,!0),P++;else{const K=P,Q=P,ie=new Map;for(P=Q;P<=M;P++){const $e=g[P]=k?Rt(g[P]):it(g[P]);$e.key!=null&&ie.set($e.key,P)}let re,xe=0;const Ie=M-Q+1;let et=!1,tt=0;const Pr=new Array(Ie);for(P=0;P<Ie;P++)Pr[P]=0;for(P=K;P<=N;P++){const $e=p[P];if(xe>=Ie){Ce($e,A,E,!0);continue}let rt;if($e.key!=null)rt=ie.get($e.key);else for(re=Q;re<=M;re++)if(Pr[re-Q]===0&&Cr($e,g[re])){rt=re;break}rt===void 0?Ce($e,A,E,!0):(Pr[rt-Q]=P+1,rt>=tt?tt=rt:et=!0,y($e,g[rt],_,null,A,E,x,C,k),xe++)}const Li=et?fh(Pr):dr;for(re=Li.length-1,P=Ie-1;P>=0;P--){const $e=Q+P,rt=g[$e],Bi=g[$e+1],Mi=$e+1<q?Bi.el||Bi.placeholder:S;Pr[P]===0?y(null,rt,_,Mi,A,E,x,C,k):et&&(re<0||P!==Li[re]?Ze(rt,_,Mi,2):re--)}}},Ze=(p,g,_,S,A=null)=>{const{el:E,type:x,transition:C,children:k,shapeFlag:P}=p;if(P&6){Ze(p.component.subTree,g,_,S);return}if(P&128){p.suspense.move(g,_,S);return}if(P&64){x.move(p,g,_,L);return}if(x===Ve){s(E,g,_);for(let N=0;N<k.length;N++)Ze(k[N],g,_,S);s(p.anchor,g,_);return}if(x===Ss){w(p,g,_);return}if(S!==2&&P&1&&C)if(S===0)C.beforeEnter(E),s(E,g,_),De(()=>C.enter(E),A);else{const{leave:N,delayLeave:M,afterLeave:K}=C,Q=()=>{p.ctx.isUnmounted?n(E):s(E,g,_)},ie=()=>{E._isLeaving&&E[ju](!0),N(E,()=>{Q(),K&&K()})};M?M(E,Q,ie):ie()}else s(E,g,_)},Ce=(p,g,_,S=!1,A=!1)=>{const{type:E,props:x,ref:C,children:k,dynamicChildren:P,shapeFlag:q,patchFlag:N,dirs:M,cacheIndex:K}=p;if(N===-2&&(A=!1),C!=null&&(_t(),Ur(C,null,_,p,!0),mt()),K!=null&&(g.renderCache[K]=void 0),q&256){g.ctx.deactivate(p);return}const Q=q&1&&M,ie=!_r(p);let re;if(ie&&(re=x&&x.onVnodeBeforeUnmount)&&st(re,g,p),q&6)Dt(p.component,_,S);else{if(q&128){p.suspense.unmount(_,S);return}Q&&Ut(p,null,g,"beforeUnmount"),q&64?p.type.remove(p,g,_,L,S):P&&!P.hasOnce&&(E!==Ve||N>0&&N&64)?Fe(P,g,_,!1,!0):(E===Ve&&N&384||!A&&q&16)&&Fe(k,g,_),S&&Zt(p)}(ie&&(re=x&&x.onVnodeUnmounted)||Q)&&De(()=>{re&&st(re,g,p),Q&&Ut(p,null,g,"unmounted")},_)},Zt=p=>{const{type:g,el:_,anchor:S,transition:A}=p;if(g===Ve){er(_,S);return}if(g===Ss){T(p);return}const E=()=>{n(_),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(p.shapeFlag&1&&A&&!A.persisted){const{leave:x,delayLeave:C}=A,k=()=>x(_,E);C?C(p.el,E,k):k()}else E()},er=(p,g)=>{let _;for(;p!==g;)_=d(p),n(p),p=_;n(g)},Dt=(p,g,_)=>{const{bum:S,scope:A,job:E,subTree:x,um:C,m:k,a:P}=p;Zi(k),Zi(P),S&&bs(S),A.stop(),E&&(E.flags|=8,Ce(x,p,g,_)),C&&De(C,g),De(()=>{p.isUnmounted=!0},g)},Fe=(p,g,_,S=!1,A=!1,E=0)=>{for(let x=E;x<p.length;x++)Ce(p[x],g,_,S,A)},O=p=>{if(p.shapeFlag&6)return O(p.component.subTree);if(p.shapeFlag&128)return p.suspense.next();const g=d(p.anchor||p.el),_=g&&g[xu];return _?d(_):g};let $=!1;const I=(p,g,_)=>{p==null?g._vnode&&Ce(g._vnode,null,null,!0):y(g._vnode||null,p,g,null,null,null,_),g._vnode=p,$||($=!0,Wi(),Va(),$=!1)},L={p:y,um:Ce,m:Ze,r:Zt,mt:$t,mc:W,pc:Z,pbc:ce,n:O,o:t};return{render:I,hydrate:void 0,createApp:rh(I)}}function hn({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function Lt({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function dh(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ll(t,e,r=!1){const s=t.children,n=e.children;if(V(s)&&V(n))for(let i=0;i<s.length;i++){const o=s[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Rt(n[i]),a.el=o.el),!r&&a.patchFlag!==-2&&ll(o,a)),a.type===Qs&&a.patchFlag!==-1&&(a.el=o.el),a.type===vt&&!a.el&&(a.el=o.el)}}function fh(t){const e=t.slice(),r=[0];let s,n,i,o,a;const l=t.length;for(s=0;s<l;s++){const c=t[s];if(c!==0){if(n=r[r.length-1],t[n]<c){e[s]=n,r.push(s);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<c?i=a+1:o=a;c<t[r[i]]&&(i>0&&(e[s]=r[i-1]),r[i]=s)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function cl(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:cl(e)}function Zi(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const ph=Symbol.for("v-scx"),gh=()=>We(ph);function Br(t,e,r){return ul(t,e,r)}function ul(t,e,r=se){const{immediate:s,deep:n,flush:i,once:o}=r,a=Oe({},r),l=e&&s||!e&&i!=="post";let c;if(Qr){if(i==="sync"){const f=gh();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=ot,f.resume=ot,f.pause=ot,f}}const u=be;a.call=(f,v,y)=>at(f,u,v,y);let h=!1;i==="post"?a.scheduler=f=>{De(f,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(f,v)=>{v?f():yi(f)}),a.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=Au(t,e,a);return Qr&&(c?c.push(d):l&&d()),d}function _h(t,e,r){const s=this.proxy,n=pe(t)?t.includes(".")?hl(s,t):()=>s[t]:t.bind(s,s);let i;J(e)?i=e:(i=e.handler,r=e);const o=as(this),a=ul(n,i.bind(s),r);return o(),a}function hl(t,e){const r=e.split(".");return()=>{let s=t;for(let n=0;n<r.length&&s;n++)s=s[r[n]];return s}}const mh=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ke(e)}Modifiers`]||t[`${Qt(e)}Modifiers`];function vh(t,e,...r){if(t.isUnmounted)return;const s=t.vnode.props||se;let n=r;const i=e.startsWith("update:"),o=i&&mh(s,e.slice(7));o&&(o.trim&&(n=r.map(u=>pe(u)?u.trim():u)),o.number&&(n=r.map(As)));let a,l=s[a=nn(e)]||s[a=nn(Ke(e))];!l&&i&&(l=s[a=nn(Qt(e))]),l&&at(l,t,6,n);const c=s[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,at(c,t,6,n)}}const yh=new WeakMap;function dl(t,e,r=!1){const s=r?yh:e.emitsCache,n=s.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!J(t)){const l=c=>{const u=dl(c,e,!0);u&&(a=!0,Oe(o,u))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ne(t)&&s.set(t,null),null):(V(i)?i.forEach(l=>o[l]=null):Oe(o,i),ne(t)&&s.set(t,o),o)}function Ys(t,e){return!t||!Vs(e)?!1:(e=e.slice(2).replace(/Once$/,""),te(t,e[0].toLowerCase()+e.slice(1))||te(t,Qt(e))||te(t,e))}function eo(t){const{type:e,vnode:r,proxy:s,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:v,inheritAttrs:y}=t,b=xs(t);let R,m;try{if(r.shapeFlag&4){const T=n||s,j=T;R=it(c.call(j,T,u,h,f,d,v)),m=a}else{const T=e;R=it(T.length>1?T(h,{attrs:a,slots:o,emit:l}):T(h,null)),m=e.props?a:wh(a)}}catch(T){Mr.length=0,Gs(T,t,1),R=Se(vt)}let w=R;if(m&&y!==!1){const T=Object.keys(m),{shapeFlag:j}=w;T.length&&j&7&&(i&&T.some(ii)&&(m=bh(m,i)),w=vr(w,m,!1,!0))}return r.dirs&&(w=vr(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(r.dirs):r.dirs),r.transition&&wi(w,r.transition),R=w,xs(b),R}const wh=t=>{let e;for(const r in t)(r==="class"||r==="style"||Vs(r))&&((e||(e={}))[r]=t[r]);return e},bh=(t,e)=>{const r={};for(const s in t)(!ii(s)||!(s.slice(9)in e))&&(r[s]=t[s]);return r};function Eh(t,e,r){const{props:s,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return s?to(s,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==s[d]&&!Ys(c,d))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?to(s,o,c):!0:!!o;return!1}function to(t,e,r){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let n=0;n<s.length;n++){const i=s[n];if(e[i]!==t[i]&&!Ys(r,i))return!0}return!1}function Sh({vnode:t,parent:e},r){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=r,e=e.parent;else break}}const fl=t=>t.__isSuspense;function Oh(t,e){e&&e.pendingBranch?V(t)?e.effects.push(...t):e.effects.push(t):ku(t)}const Ve=Symbol.for("v-fgt"),Qs=Symbol.for("v-txt"),vt=Symbol.for("v-cmt"),Ss=Symbol.for("v-stc"),Mr=[];let Me=null;function Ns(t=!1){Mr.push(Me=t?null:[])}function Th(){Mr.pop(),Me=Mr[Mr.length-1]||null}let zr=1;function $s(t,e=!1){zr+=t,t<0&&Me&&e&&(Me.hasOnce=!0)}function pl(t){return t.dynamicChildren=zr>0?Me||dr:null,Th(),zr>0&&Me&&Me.push(t),t}function Ah(t,e,r,s,n,i){return pl(_l(t,e,r,s,n,i,!0))}function Dn(t,e,r,s,n){return pl(Se(t,e,r,s,n,!0))}function Yr(t){return t?t.__v_isVNode===!0:!1}function Cr(t,e){return t.type===e.type&&t.key===e.key}const gl=({key:t})=>t??null,Os=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?pe(t)||de(t)||J(t)?{i:ve,r:t,k:e,f:!!r}:t:null);function _l(t,e=null,r=null,s=0,n=null,i=t===Ve?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&gl(e),ref:e&&Os(e),scopeId:Ha,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:ve};return a?(Oi(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=pe(r)?8:16),zr>0&&!o&&Me&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Me.push(l),l}const Se=Rh;function Rh(t,e=null,r=null,s=0,n=null,i=!1){if((!t||t===Gu)&&(t=vt),Yr(t)){const a=vr(t,e,!0);return r&&Oi(a,r),zr>0&&!i&&Me&&(a.shapeFlag&6?Me[Me.indexOf(t)]=a:Me.push(a)),a.patchFlag=-2,a}if(Bh(t)&&(t=t.__vccOpts),e){e=Ph(e);let{class:a,style:l}=e;a&&!pe(a)&&(e.class=ci(a)),ne(l)&&(mi(l)&&!V(l)&&(l=Oe({},l)),e.style=li(l))}const o=pe(t)?1:fl(t)?128:Iu(t)?64:ne(t)?4:J(t)?2:0;return _l(t,e,r,s,n,o,i,!0)}function Ph(t){return t?mi(t)||rl(t)?Oe({},t):t:null}function vr(t,e,r=!1,s=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?Ch(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&gl(c),ref:e&&e.ref?r&&i?V(i)?i.concat(Os(e)):[i,Os(e)]:Os(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ve?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&vr(t.ssContent),ssFallback:t.ssFallback&&vr(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&s&&wi(u,l.clone(u)),u}function kh(t=" ",e=0){return Se(Qs,null,t,e)}function i_(t,e){const r=Se(Ss,null,t);return r.staticCount=e,r}function o_(t="",e=!1){return e?(Ns(),Dn(vt,null,t)):Se(vt,null,t)}function it(t){return t==null||typeof t=="boolean"?Se(vt):V(t)?Se(Ve,null,t.slice()):Yr(t)?Rt(t):Se(Qs,null,String(t))}function Rt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:vr(t)}function Oi(t,e){let r=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(V(e))r=16;else if(typeof e=="object")if(s&65){const n=e.default;n&&(n._c&&(n._d=!1),Oi(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!rl(e)?e._ctx=ve:n===3&&ve&&(ve.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else J(e)?(e={default:e,_ctx:ve},r=32):(e=String(e),s&64?(r=16,e=[kh(e)]):r=8);t.children=e,t.shapeFlag|=r}function Ch(...t){const e={};for(let r=0;r<t.length;r++){const s=t[r];for(const n in s)if(n==="class")e.class!==s.class&&(e.class=ci([e.class,s.class]));else if(n==="style")e.style=li([e.style,s.style]);else if(Vs(n)){const i=e[n],o=s[n];o&&i!==o&&!(V(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=s[n])}return e}function st(t,e,r,s=null){at(t,e,7,[r,s])}const xh=Za();let Ih=0;function jh(t,e,r){const s=t.type,n=(e?e.appContext:t.appContext)||xh,i={uid:Ih++,vnode:t,type:s,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new wa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:nl(s,n),emitsOptions:dl(s,n),emit:null,emitted:null,propsDefaults:se,inheritAttrs:s.inheritAttrs,ctx:se,data:se,props:se,attrs:se,slots:se,refs:se,setupState:se,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=vh.bind(null,i),t.ce&&t.ce(i),i}let be=null;const ml=()=>be||ve;let Ds,Un;{const t=Ws(),e=(r,s)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(s),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Ds=e("__VUE_INSTANCE_SETTERS__",r=>be=r),Un=e("__VUE_SSR_SETTERS__",r=>Qr=r)}const as=t=>{const e=be;return Ds(t),t.scope.on(),()=>{t.scope.off(),Ds(e)}},ro=()=>{be&&be.scope.off(),Ds(null)};function vl(t){return t.vnode.shapeFlag&4}let Qr=!1;function Nh(t,e=!1,r=!1){e&&Un(e);const{props:s,children:n}=t.vnode,i=vl(t);nh(t,s,i,e),lh(t,n,r||e);const o=i?$h(t,e):void 0;return e&&Un(!1),o}function $h(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,zu);const{setup:s}=r;if(s){_t();const n=t.setupContext=s.length>1?Uh(t):null,i=as(t),o=os(s,t,0,[t.props,n]),a=fa(o);if(mt(),i(),(a||t.sp)&&!_r(t)&&Wa(t),a){if(o.then(ro,ro),e)return o.then(l=>{so(t,l)}).catch(l=>{Gs(l,t,0)});t.asyncDep=o}else so(t,o)}else yl(t)}function so(t,e,r){J(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ne(e)&&(t.setupState=Ba(e)),yl(t)}function yl(t,e,r){const s=t.type;t.render||(t.render=s.render||ot);{const n=as(t);_t();try{Yu(t)}finally{mt(),n()}}}const Dh={get(t,e){return we(t,"get",""),t[e]}};function Uh(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,Dh),slots:t.slots,emit:t.emit,expose:e}}function Xs(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ba(vi(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Lr)return Lr[r](t)},has(e,r){return r in e||r in Lr}})):t.proxy}function Lh(t,e=!0){return J(t)?t.displayName||t.name:t.name||e&&t.__name}function Bh(t){return J(t)&&"__vccOpts"in t}const Ee=(t,e)=>Ou(t,e,Qr);function wl(t,e,r){try{$s(-1);const s=arguments.length;return s===2?ne(e)&&!V(e)?Yr(e)?Se(t,null,[e]):Se(t,e):Se(t,null,e):(s>3?r=Array.prototype.slice.call(arguments,2):s===3&&Yr(r)&&(r=[r]),Se(t,e,r))}finally{$s(1)}}const Mh="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ln;const no=typeof window<"u"&&window.trustedTypes;if(no)try{Ln=no.createPolicy("vue",{createHTML:t=>t})}catch{}const bl=Ln?t=>Ln.createHTML(t):t=>t,Fh="http://www.w3.org/2000/svg",Vh="http://www.w3.org/1998/Math/MathML",ht=typeof document<"u"?document:null,io=ht&&ht.createElement("template"),qh={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,s)=>{const n=e==="svg"?ht.createElementNS(Fh,t):e==="mathml"?ht.createElementNS(Vh,t):r?ht.createElement(t,{is:r}):ht.createElement(t);return t==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:t=>ht.createTextNode(t),createComment:t=>ht.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ht.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,s,n,i){const o=r?r.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===i||!(n=n.nextSibling)););else{io.innerHTML=bl(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=io.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Hh=Symbol("_vtc");function Wh(t,e,r){const s=t[Hh];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const oo=Symbol("_vod"),Kh=Symbol("_vsh"),Gh=Symbol(""),Jh=/(?:^|;)\s*display\s*:/;function zh(t,e,r){const s=t.style,n=pe(r);let i=!1;if(r&&!n){if(e)if(pe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&Ts(s,a,"")}else for(const o in e)r[o]==null&&Ts(s,o,"");for(const o in r)o==="display"&&(i=!0),Ts(s,o,r[o])}else if(n){if(e!==r){const o=s[Gh];o&&(r+=";"+o),s.cssText=r,i=Jh.test(r)}}else e&&t.removeAttribute("style");oo in t&&(t[oo]=i?s.display:"",t[Kh]&&(s.display="none"))}const ao=/\s*!important$/;function Ts(t,e,r){if(V(r))r.forEach(s=>Ts(t,e,s));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const s=Yh(t,e);ao.test(r)?t.setProperty(Qt(s),r.replace(ao,""),"important"):t[s]=r}}const lo=["Webkit","Moz","ms"],dn={};function Yh(t,e){const r=dn[e];if(r)return r;let s=Ke(e);if(s!=="filter"&&s in t)return dn[e]=s;s=Hs(s);for(let n=0;n<lo.length;n++){const i=lo[n]+s;if(i in t)return dn[e]=i}return e}const co="http://www.w3.org/1999/xlink";function uo(t,e,r,s,n,i=Jc(e)){s&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(co,e.slice(6,e.length)):t.setAttributeNS(co,e,r):r==null||i&&!ma(r)?t.removeAttribute(e):t.setAttribute(e,i?"":Qe(r)?String(r):r)}function ho(t,e,r,s,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?bl(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=ma(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(n||e)}function kt(t,e,r,s){t.addEventListener(e,r,s)}function Qh(t,e,r,s){t.removeEventListener(e,r,s)}const fo=Symbol("_vei");function Xh(t,e,r,s,n=null){const i=t[fo]||(t[fo]={}),o=i[e];if(s&&o)o.value=s;else{const[a,l]=Zh(e);if(s){const c=i[e]=rd(s,n);kt(t,a,c,l)}else o&&(Qh(t,a,o,l),i[e]=void 0)}}const po=/(?:Once|Passive|Capture)$/;function Zh(t){let e;if(po.test(t)){e={};let s;for(;s=t.match(po);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Qt(t.slice(2)),e]}let fn=0;const ed=Promise.resolve(),td=()=>fn||(ed.then(()=>fn=0),fn=Date.now());function rd(t,e){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;at(sd(s,r.value),e,5,[s])};return r.value=t,r.attached=td(),r}function sd(t,e){if(V(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(s=>n=>!n._stopped&&s&&s(n))}else return e}const go=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,nd=(t,e,r,s,n,i)=>{const o=n==="svg";e==="class"?Wh(t,s,o):e==="style"?zh(t,r,s):Vs(e)?ii(e)||Xh(t,e,r,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):id(t,e,s,o))?(ho(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&uo(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!pe(s))?ho(t,Ke(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),uo(t,e,s,o))};function id(t,e,r,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&go(e)&&J(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return go(e)&&pe(r)?!1:e in t}const yr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return V(e)?r=>bs(e,r):e};function od(t){t.target.composing=!0}function _o(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const gt=Symbol("_assign"),a_={created(t,{modifiers:{lazy:e,trim:r,number:s}},n){t[gt]=yr(n);const i=s||n.props&&n.props.type==="number";kt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),i&&(a=As(a)),t[gt](a)}),r&&kt(t,"change",()=>{t.value=t.value.trim()}),e||(kt(t,"compositionstart",od),kt(t,"compositionend",_o),kt(t,"change",_o))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:s,trim:n,number:i}},o){if(t[gt]=yr(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?As(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(s&&e===r||n&&t.value.trim()===l)||(t.value=l))}},l_={deep:!0,created(t,e,r){t[gt]=yr(r),kt(t,"change",()=>{const s=t._modelValue,n=Xr(t),i=t.checked,o=t[gt];if(V(s)){const a=ui(s,n),l=a!==-1;if(i&&!l)o(s.concat(n));else if(!i&&l){const c=[...s];c.splice(a,1),o(c)}}else if(Or(s)){const a=new Set(s);i?a.add(n):a.delete(n),o(a)}else o(El(t,i))})},mounted:mo,beforeUpdate(t,e,r){t[gt]=yr(r),mo(t,e,r)}};function mo(t,{value:e,oldValue:r},s){t._modelValue=e;let n;if(V(e))n=ui(e,s.props.value)>-1;else if(Or(e))n=e.has(s.props.value);else{if(e===r)return;n=ns(e,El(t,!0))}t.checked!==n&&(t.checked=n)}const c_={deep:!0,created(t,{value:e,modifiers:{number:r}},s){const n=Or(e);kt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>r?As(Xr(o)):Xr(o));t[gt](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,Js(()=>{t._assigning=!1})}),t[gt]=yr(s)},mounted(t,{value:e}){vo(t,e)},beforeUpdate(t,e,r){t[gt]=yr(r)},updated(t,{value:e}){t._assigning||vo(t,e)}};function vo(t,e){const r=t.multiple,s=V(e);if(!(r&&!s&&!Or(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=Xr(o);if(r)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=ui(e,a)>-1}else o.selected=e.has(a);else if(ns(Xr(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Xr(t){return"_value"in t?t._value:t.value}function El(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const ad=["ctrl","shift","alt","meta"],ld={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ad.some(r=>t[`${r}Key`]&&!e.includes(r))},u_=(t,e)=>{const r=t._withMods||(t._withMods={}),s=e.join(".");return r[s]||(r[s]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=ld[e[o]];if(a&&a(n,e))return}return t(n,...i)})},cd=Oe({patchProp:nd},qh);let yo;function ud(){return yo||(yo=uh(cd))}const hd=(...t)=>{const e=ud().createApp(...t),{mount:r}=e;return e.mount=s=>{const n=fd(s);if(!n)return;const i=e._component;!J(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=r(n,!1,dd(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function dd(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function fd(t){return pe(t)?document.querySelector(t):t}/*!
 * pinia v3.0.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Sl;const Zs=t=>Sl=t,Ol=Symbol();function Bn(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Fr;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Fr||(Fr={}));function pd(){const t=ba(!0),e=t.run(()=>Kt({}));let r=[],s=[];const n=vi({install(i){Zs(n),n._a=i,i.provide(Ol,n),i.config.globalProperties.$pinia=n,s.forEach(o=>r.push(o)),s=[]},use(i){return this._a?r.push(i):s.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return n}const Tl=()=>{};function wo(t,e,r,s=Tl){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!r&&Ea()&&Qc(n),n}function rr(t,...e){t.slice().forEach(r=>{r(...e)})}const gd=t=>t(),bo=Symbol(),pn=Symbol();function Mn(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,s)=>t.set(s,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const s=e[r],n=t[r];Bn(n)&&Bn(s)&&t.hasOwnProperty(r)&&!de(s)&&!It(s)?t[r]=Mn(n,s):t[r]=s}return t}const _d=Symbol();function md(t){return!Bn(t)||!Object.prototype.hasOwnProperty.call(t,_d)}const{assign:Ot}=Object;function vd(t){return!!(de(t)&&t.effect)}function yd(t,e,r,s){const{state:n,actions:i,getters:o}=e,a=r.state.value[t];let l;function c(){a||(r.state.value[t]=n?n():{});const u=wu(r.state.value[t]);return Ot(u,i,Object.keys(o||{}).reduce((h,d)=>(h[d]=vi(Ee(()=>{Zs(r);const f=r._s.get(t);return o[d].call(f,f)})),h),{}))}return l=Al(t,c,e,r,s,!0),l}function Al(t,e,r={},s,n,i){let o;const a=Ot({actions:{}},r),l={deep:!0};let c,u,h=[],d=[],f;const v=s.state.value[t];!i&&!v&&(s.state.value[t]={}),Kt({});let y;function b(W){let H;c=u=!1,typeof W=="function"?(W(s.state.value[t]),H={type:Fr.patchFunction,storeId:t,events:f}):(Mn(s.state.value[t],W),H={type:Fr.patchObject,payload:W,storeId:t,events:f});const ce=y=Symbol();Js().then(()=>{y===ce&&(c=!0)}),u=!0,rr(h,H,s.state.value[t])}const R=i?function(){const{state:H}=r,ce=H?H():{};this.$patch(Te=>{Ot(Te,ce)})}:Tl;function m(){o.stop(),h=[],d=[],s._s.delete(t)}const w=(W,H="")=>{if(bo in W)return W[pn]=H,W;const ce=function(){Zs(s);const Te=Array.from(arguments),Ne=[],ke=[];function $t(z){Ne.push(z)}function wt(z){ke.push(z)}rr(d,{args:Te,name:ce[pn],store:j,after:$t,onError:wt});let le;try{le=W.apply(this&&this.$id===t?this:j,Te)}catch(z){throw rr(ke,z),z}return le instanceof Promise?le.then(z=>(rr(Ne,z),z)).catch(z=>(rr(ke,z),Promise.reject(z))):(rr(Ne,le),le)};return ce[bo]=!0,ce[pn]=H,ce},T={_p:s,$id:t,$onAction:wo.bind(null,d),$patch:b,$reset:R,$subscribe(W,H={}){const ce=wo(h,W,H.detached,()=>Te()),Te=o.run(()=>Br(()=>s.state.value[t],Ne=>{(H.flush==="sync"?u:c)&&W({storeId:t,type:Fr.direct,events:f},Ne)},Ot({},l,H)));return ce},$dispose:m},j=is(T);s._s.set(t,j);const B=(s._a&&s._a.runWithContext||gd)(()=>s._e.run(()=>(o=ba()).run(()=>e({action:w}))));for(const W in B){const H=B[W];if(de(H)&&!vd(H)||It(H))i||(v&&md(H)&&(de(H)?H.value=v[W]:Mn(H,v[W])),s.state.value[t][W]=H);else if(typeof H=="function"){const ce=w(H,W);B[W]=ce,a.actions[W]=H}}return Ot(j,B),Ot(X(j),B),Object.defineProperty(j,"$state",{get:()=>s.state.value[t],set:W=>{b(H=>{Ot(H,W)})}}),s._p.forEach(W=>{Ot(j,o.run(()=>W({store:j,app:s._a,pinia:s,options:a})))}),v&&i&&r.hydrate&&r.hydrate(j.$state,v),c=!0,u=!0,j}/*! #__NO_SIDE_EFFECTS__ */function wd(t,e,r){let s;const n=typeof e=="function";s=n?r:e;function i(o,a){const l=sh();return o=o||(l?We(Ol,null):null),o&&Zs(o),o=Sl,o._s.has(t)||(n?Al(t,e,s,o):yd(t,s,o)),o._s.get(t)}return i.$id=t,i}const bd="modulepreload",Ed=function(t){return"/"+t},Eo={},qe=function(e,r,s){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(r.map(l=>{if(l=Ed(l),l in Eo)return;Eo[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":bd,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const cr=typeof document<"u";function Rl(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Sd(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Rl(t.default)}const ee=Object.assign;function gn(t,e){const r={};for(const s in e){const n=e[s];r[s]=Xe(n)?n.map(t):t(n)}return r}const Vr=()=>{},Xe=Array.isArray;function So(t,e){const r={};for(const s in t)r[s]=s in e?e[s]:t[s];return r}const Pl=/#/g,Od=/&/g,Td=/\//g,Ad=/=/g,Rd=/\?/g,kl=/\+/g,Pd=/%5B/g,kd=/%5D/g,Cl=/%5E/g,Cd=/%60/g,xl=/%7B/g,xd=/%7C/g,Il=/%7D/g,Id=/%20/g;function Ti(t){return t==null?"":encodeURI(""+t).replace(xd,"|").replace(Pd,"[").replace(kd,"]")}function jd(t){return Ti(t).replace(xl,"{").replace(Il,"}").replace(Cl,"^")}function Fn(t){return Ti(t).replace(kl,"%2B").replace(Id,"+").replace(Pl,"%23").replace(Od,"%26").replace(Cd,"`").replace(xl,"{").replace(Il,"}").replace(Cl,"^")}function Nd(t){return Fn(t).replace(Ad,"%3D")}function $d(t){return Ti(t).replace(Pl,"%23").replace(Rd,"%3F")}function Dd(t){return $d(t).replace(Td,"%2F")}function Zr(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Ud=/\/$/,Ld=t=>t.replace(Ud,"");function _n(t,e,r="/"){let s,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(s=e.slice(0,l),i=e.slice(l,a>0?a:e.length),n=t(i.slice(1))),a>=0&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=Vd(s??e,r),{fullPath:s+i+o,path:s,query:n,hash:Zr(o)}}function Bd(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function Oo(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Md(t,e,r){const s=e.matched.length-1,n=r.matched.length-1;return s>-1&&s===n&&wr(e.matched[s],r.matched[n])&&jl(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function wr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function jl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!Fd(t[r],e[r]))return!1;return!0}function Fd(t,e){return Xe(t)?To(t,e):Xe(e)?To(e,t):t===e}function To(t,e){return Xe(e)?t.length===e.length&&t.every((r,s)=>r===e[s]):t.length===1&&t[0]===e}function Vd(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),s=t.split("/"),n=s[s.length-1];(n===".."||n===".")&&s.push("");let i=r.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Et={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Vn=function(t){return t.pop="pop",t.push="push",t}({}),mn=function(t){return t.back="back",t.forward="forward",t.unknown="",t}({});function qd(t){if(!t)if(cr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Ld(t)}const Hd=/^[^#]+#/;function Wd(t,e){return t.replace(Hd,"#")+e}function Kd(t,e){const r=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-r.left-(e.left||0),top:s.top-r.top-(e.top||0)}}const en=()=>({left:window.scrollX,top:window.scrollY});function Gd(t){let e;if("el"in t){const r=t.el,s=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?s?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;e=Kd(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Ao(t,e){return(history.state?history.state.position-e:-1)+t}const qn=new Map;function Jd(t,e){qn.set(t,e)}function zd(t){const e=qn.get(t);return qn.delete(t),e}function Yd(t){return typeof t=="string"||t&&typeof t=="object"}function Nl(t){return typeof t=="string"||typeof t=="symbol"}let he=function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t}({});const $l=Symbol("");he.MATCHER_NOT_FOUND+"",he.NAVIGATION_GUARD_REDIRECT+"",he.NAVIGATION_ABORTED+"",he.NAVIGATION_CANCELLED+"",he.NAVIGATION_DUPLICATED+"";function br(t,e){return ee(new Error,{type:t,[$l]:!0},e)}function ut(t,e){return t instanceof Error&&$l in t&&(e==null||!!(t.type&e))}const Qd=["params","query","hash"];function Xd(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const r of Qd)r in t&&(e[r]=t[r]);return JSON.stringify(e,null,2)}function Zd(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const n=r[s].replace(kl," "),i=n.indexOf("="),o=Zr(i<0?n:n.slice(0,i)),a=i<0?null:Zr(n.slice(i+1));if(o in e){let l=e[o];Xe(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function Ro(t){let e="";for(let r in t){const s=t[r];if(r=Nd(r),s==null){s!==void 0&&(e+=(e.length?"&":"")+r);continue}(Xe(s)?s.map(n=>n&&Fn(n)):[s&&Fn(s)]).forEach(n=>{n!==void 0&&(e+=(e.length?"&":"")+r,n!=null&&(e+="="+n))})}return e}function ef(t){const e={};for(const r in t){const s=t[r];s!==void 0&&(e[r]=Xe(s)?s.map(n=>n==null?null:""+n):s==null?s:""+s)}return e}const tf=Symbol(""),Po=Symbol(""),tn=Symbol(""),Ai=Symbol(""),Hn=Symbol("");function xr(){let t=[];function e(s){return t.push(s),()=>{const n=t.indexOf(s);n>-1&&t.splice(n,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Pt(t,e,r,s,n,i=o=>o()){const o=s&&(s.enterCallbacks[n]=s.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(br(he.NAVIGATION_ABORTED,{from:r,to:e})):d instanceof Error?l(d):Yd(d)?l(br(he.NAVIGATION_GUARD_REDIRECT,{from:e,to:d})):(o&&s.enterCallbacks[n]===o&&typeof d=="function"&&o.push(d),a())},u=i(()=>t.call(s&&s.instances[n],e,r,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function vn(t,e,r,s,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Rl(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Pt(c,r,s,o,a,n))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=Sd(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const d=(h.__vccOpts||h)[e];return d&&Pt(d,r,s,o,a,n)()}))}}return i}function rf(t,e){const r=[],s=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>wr(c,a))?s.push(a):r.push(a));const l=t.matched[o];l&&(e.matched.find(c=>wr(c,l))||n.push(l))}return[r,s,n]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let sf=()=>location.protocol+"//"+location.host;function Dl(t,e){const{pathname:r,search:s,hash:n}=e,i=t.indexOf("#");if(i>-1){let o=n.includes(t.slice(i))?t.slice(i).length:1,a=n.slice(o);return a[0]!=="/"&&(a="/"+a),Oo(a,"")}return Oo(r,t)+s+n}function nf(t,e,r,s){let n=[],i=[],o=null;const a=({state:d})=>{const f=Dl(t,location),v=r.value,y=e.value;let b=0;if(d){if(r.value=f,e.value=d,o&&o===v){o=null;return}b=y?d.position-y.position:0}else s(f);n.forEach(R=>{R(r.value,v,{delta:b,type:Vn.pop,direction:b?b>0?mn.forward:mn.back:mn.unknown})})};function l(){o=r.value}function c(d){n.push(d);const f=()=>{const v=n.indexOf(d);v>-1&&n.splice(v,1)};return i.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:d}=window;if(!d.state)return;d.replaceState(ee({},d.state,{scroll:en()}),"")}}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:h}}function ko(t,e,r,s=!1,n=!1){return{back:t,current:e,forward:r,replaced:s,position:window.history.length,scroll:n?en():null}}function of(t){const{history:e,location:r}=window,s={value:Dl(t,r)},n={value:e.state};n.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),d=h>-1?(r.host&&document.querySelector("base")?t:t.slice(h))+l:sf()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),n.value=c}catch(f){console.error(f),r[u?"replace":"assign"](d)}}function o(l,c){i(l,ee({},e.state,ko(n.value.back,l,n.value.forward,!0),c,{position:n.value.position}),!0),s.value=l}function a(l,c){const u=ee({},n.value,e.state,{forward:l,scroll:en()});i(u.current,u,!0),i(l,ee({},ko(s.value,l,null),{position:u.position+1},c),!1),s.value=l}return{location:s,state:n,push:a,replace:o}}function af(t){t=qd(t);const e=of(t),r=nf(t,e.state,e.location,e.replace);function s(i,o=!0){o||r.pauseListeners(),history.go(i)}const n=ee({location:"",base:t,go:s,createHref:Wd.bind(null,t)},e,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}let Gt=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t}({});var ge=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t}(ge||{});const lf={type:Gt.Static,value:""},cf=/[a-zA-Z0-9_]/;function uf(t){if(!t)return[[]];if(t==="/")return[[lf]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${r})/"${c}": ${f}`)}let r=ge.Static,s=r;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(r===ge.Static?i.push({type:Gt.Static,value:c}):r===ge.Param||r===ge.ParamRegExp||r===ge.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:Gt.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&r!==ge.ParamRegExp){s=r,r=ge.EscapeNext;continue}switch(r){case ge.Static:l==="/"?(c&&h(),o()):l===":"?(h(),r=ge.Param):d();break;case ge.EscapeNext:d(),r=s;break;case ge.Param:l==="("?r=ge.ParamRegExp:cf.test(l)?d():(h(),r=ge.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case ge.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:r=ge.ParamRegExpEnd:u+=l;break;case ge.ParamRegExpEnd:h(),r=ge.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return r===ge.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),n}const Co="[^/]+?",hf={sensitive:!1,strict:!1,start:!0,end:!0};var Re=function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t}(Re||{});const df=/[.+*?^${}()[\]/\\]/g;function ff(t,e){const r=ee({},hf,e),s=[];let n=r.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[Re.Root];r.strict&&!c.length&&(n+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=Re.Segment+(r.sensitive?Re.BonusCaseSensitive:0);if(d.type===Gt.Static)h||(n+="/"),n+=d.value.replace(df,"\\$&"),f+=Re.Static;else if(d.type===Gt.Param){const{value:v,repeatable:y,optional:b,regexp:R}=d;i.push({name:v,repeatable:y,optional:b});const m=R||Co;if(m!==Co){f+=Re.BonusCustomRegExp;try{`${m}`}catch(T){throw new Error(`Invalid custom RegExp for param "${v}" (${m}): `+T.message)}}let w=y?`((?:${m})(?:/(?:${m}))*)`:`(${m})`;h||(w=b&&c.length<2?`(?:/${w})`:"/"+w),b&&(w+="?"),n+=w,f+=Re.Dynamic,b&&(f+=Re.BonusOptional),y&&(f+=Re.BonusRepeatable),m===".*"&&(f+=Re.BonusWildcard)}u.push(f)}s.push(u)}if(r.strict&&r.end){const c=s.length-1;s[c][s[c].length-1]+=Re.BonusStrict}r.strict||(n+="/?"),r.end?n+="$":r.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,r.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",v=i[d-1];h[v.name]=f&&v.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===Gt.Static)u+=f.value;else if(f.type===Gt.Param){const{value:v,repeatable:y,optional:b}=f,R=v in c?c[v]:"";if(Xe(R)&&!y)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const m=Xe(R)?R.join("/"):R;if(!m)if(b)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);u+=m}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:l}}function pf(t,e){let r=0;for(;r<t.length&&r<e.length;){const s=e[r]-t[r];if(s)return s;r++}return t.length<e.length?t.length===1&&t[0]===Re.Static+Re.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===Re.Static+Re.Segment?1:-1:0}function Ul(t,e){let r=0;const s=t.score,n=e.score;for(;r<s.length&&r<n.length;){const i=pf(s[r],n[r]);if(i)return i;r++}if(Math.abs(n.length-s.length)===1){if(xo(s))return 1;if(xo(n))return-1}return n.length-s.length}function xo(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const gf={strict:!1,end:!0,sensitive:!1};function _f(t,e,r){const s=ff(uf(t.path),r),n=ee(s,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function mf(t,e){const r=[],s=new Map;e=So(gf,e);function n(h){return s.get(h)}function i(h,d,f){const v=!f,y=jo(h);y.aliasOf=f&&f.record;const b=So(e,h),R=[y];if("alias"in h){const T=typeof h.alias=="string"?[h.alias]:h.alias;for(const j of T)R.push(jo(ee({},y,{components:f?f.record.components:y.components,path:j,aliasOf:f?f.record:y})))}let m,w;for(const T of R){const{path:j}=T;if(d&&j[0]!=="/"){const U=d.record.path,B=U[U.length-1]==="/"?"":"/";T.path=d.record.path+(j&&B+j)}if(m=_f(T,d,b),f?f.alias.push(m):(w=w||m,w!==m&&w.alias.push(m),v&&h.name&&!No(m)&&o(h.name)),Ll(m)&&l(m),y.children){const U=y.children;for(let B=0;B<U.length;B++)i(U[B],m,f&&f.children[B])}f=f||m}return w?()=>{o(w)}:Vr}function o(h){if(Nl(h)){const d=s.get(h);d&&(s.delete(h),r.splice(r.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=r.indexOf(h);d>-1&&(r.splice(d,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return r}function l(h){const d=wf(h,r);r.splice(d,0,h),h.record.name&&!No(h)&&s.set(h.record.name,h)}function c(h,d){let f,v={},y,b;if("name"in h&&h.name){if(f=s.get(h.name),!f)throw br(he.MATCHER_NOT_FOUND,{location:h});b=f.record.name,v=ee(Io(d.params,f.keys.filter(w=>!w.optional).concat(f.parent?f.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),h.params&&Io(h.params,f.keys.map(w=>w.name))),y=f.stringify(v)}else if(h.path!=null)y=h.path,f=r.find(w=>w.re.test(y)),f&&(v=f.parse(y),b=f.record.name);else{if(f=d.name?s.get(d.name):r.find(w=>w.re.test(d.path)),!f)throw br(he.MATCHER_NOT_FOUND,{location:h,currentLocation:d});b=f.record.name,v=ee({},d.params,h.params),y=f.stringify(v)}const R=[];let m=f;for(;m;)R.unshift(m.record),m=m.parent;return{name:b,path:y,params:v,matched:R,meta:yf(R)}}t.forEach(h=>i(h));function u(){r.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function Io(t,e){const r={};for(const s of e)s in t&&(r[s]=t[s]);return r}function jo(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:vf(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function vf(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const s in t.components)e[s]=typeof r=="object"?r[s]:r;return e}function No(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function yf(t){return t.reduce((e,r)=>ee(e,r.meta),{})}function wf(t,e){let r=0,s=e.length;for(;r!==s;){const i=r+s>>1;Ul(t,e[i])<0?s=i:r=i+1}const n=bf(t);return n&&(s=e.lastIndexOf(n,s-1)),s}function bf(t){let e=t;for(;e=e.parent;)if(Ll(e)&&Ul(t,e)===0)return e}function Ll({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function $o(t){const e=We(tn),r=We(Ai),s=Ee(()=>{const l=pr(t.to);return e.resolve(l)}),n=Ee(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=r.matched;if(!u||!h.length)return-1;const d=h.findIndex(wr.bind(null,u));if(d>-1)return d;const f=Do(l[c-2]);return c>1&&Do(u)===f&&h[h.length-1].path!==f?h.findIndex(wr.bind(null,l[c-2])):d}),i=Ee(()=>n.value>-1&&Af(r.params,s.value.params)),o=Ee(()=>n.value>-1&&n.value===r.matched.length-1&&jl(r.params,s.value.params));function a(l={}){if(Tf(l)){const c=e[pr(t.replace)?"replace":"push"](pr(t.to)).catch(Vr);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Ee(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function Ef(t){return t.length===1?t[0]:t}const Sf=bi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:$o,setup(t,{slots:e}){const r=is($o(t)),{options:s}=We(tn),n=Ee(()=>({[Uo(t.activeClass,s.linkActiveClass,"router-link-active")]:r.isActive,[Uo(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&Ef(e.default(r));return t.custom?i:wl("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},i)}}}),Of=Sf;function Tf(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Af(t,e){for(const r in e){const s=e[r],n=t[r];if(typeof s=="string"){if(s!==n)return!1}else if(!Xe(n)||n.length!==s.length||s.some((i,o)=>i!==n[o]))return!1}return!0}function Do(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Uo=(t,e,r)=>t??e??r,Rf=bi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const s=We(Hn),n=Ee(()=>t.route||s.value),i=We(Po,0),o=Ee(()=>{let c=pr(i);const{matched:u}=n.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Ee(()=>n.value.matched[o.value]);Es(Po,Ee(()=>o.value+1)),Es(tf,a),Es(Hn,n);const l=Kt();return Br(()=>[l.value,a.value,t.name],([c,u,h],[d,f,v])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!wr(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=n.value,u=t.name,h=a.value,d=h&&h.components[u];if(!d)return Lo(r.default,{Component:d,route:c});const f=h.props[u],v=f?f===!0?c.params:typeof f=="function"?f(c):f:null,b=wl(d,ee({},v,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Lo(r.default,{Component:b,route:c})||b}}});function Lo(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Pf=Rf;function kf(t){const e=mf(t.routes,t),r=t.parseQuery||Zd,s=t.stringifyQuery||Ro,n=t.history,i=xr(),o=xr(),a=xr(),l=mu(Et);let c=Et;cr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=gn.bind(null,O=>""+O),h=gn.bind(null,Dd),d=gn.bind(null,Zr);function f(O,$){let I,L;return Nl(O)?(I=e.getRecordMatcher(O),L=$):L=O,e.addRoute(L,I)}function v(O){const $=e.getRecordMatcher(O);$&&e.removeRoute($)}function y(){return e.getRoutes().map(O=>O.record)}function b(O){return!!e.getRecordMatcher(O)}function R(O,$){if($=ee({},$||l.value),typeof O=="string"){const _=_n(r,O,$.path),S=e.resolve({path:_.path},$),A=n.createHref(_.fullPath);return ee(_,S,{params:d(S.params),hash:Zr(_.hash),redirectedFrom:void 0,href:A})}let I;if(O.path!=null)I=ee({},O,{path:_n(r,O.path,$.path).path});else{const _=ee({},O.params);for(const S in _)_[S]==null&&delete _[S];I=ee({},O,{params:h(_)}),$.params=h($.params)}const L=e.resolve(I,$),Y=O.hash||"";L.params=u(d(L.params));const p=Bd(s,ee({},O,{hash:jd(Y),path:L.path})),g=n.createHref(p);return ee({fullPath:p,hash:Y,query:s===Ro?ef(O.query):O.query||{}},L,{redirectedFrom:void 0,href:g})}function m(O){return typeof O=="string"?_n(r,O,l.value.path):ee({},O)}function w(O,$){if(c!==O)return br(he.NAVIGATION_CANCELLED,{from:$,to:O})}function T(O){return B(O)}function j(O){return T(ee(m(O),{replace:!0}))}function U(O,$){const I=O.matched[O.matched.length-1];if(I&&I.redirect){const{redirect:L}=I;let Y=typeof L=="function"?L(O,$):L;return typeof Y=="string"&&(Y=Y.includes("?")||Y.includes("#")?Y=m(Y):{path:Y},Y.params={}),ee({query:O.query,hash:O.hash,params:Y.path!=null?{}:O.params},Y)}}function B(O,$){const I=c=R(O),L=l.value,Y=O.state,p=O.force,g=O.replace===!0,_=U(I,L);if(_)return B(ee(m(_),{state:typeof _=="object"?ee({},Y,_.state):Y,force:p,replace:g}),$||I);const S=I;S.redirectedFrom=$;let A;return!p&&Md(s,L,I)&&(A=br(he.NAVIGATION_DUPLICATED,{to:S,from:L}),Ze(L,L,!0,!1)),(A?Promise.resolve(A):ce(S,L)).catch(E=>ut(E)?ut(E,he.NAVIGATION_GUARD_REDIRECT)?E:bt(E):Z(E,S,L)).then(E=>{if(E){if(ut(E,he.NAVIGATION_GUARD_REDIRECT))return B(ee({replace:g},m(E.to),{state:typeof E.to=="object"?ee({},Y,E.to.state):Y,force:p}),$||S)}else E=Ne(S,L,!0,g,Y);return Te(S,L,E),E})}function W(O,$){const I=w(O,$);return I?Promise.reject(I):Promise.resolve()}function H(O){const $=er.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(O):O()}function ce(O,$){let I;const[L,Y,p]=rf(O,$);I=vn(L.reverse(),"beforeRouteLeave",O,$);for(const _ of L)_.leaveGuards.forEach(S=>{I.push(Pt(S,O,$))});const g=W.bind(null,O,$);return I.push(g),Fe(I).then(()=>{I=[];for(const _ of i.list())I.push(Pt(_,O,$));return I.push(g),Fe(I)}).then(()=>{I=vn(Y,"beforeRouteUpdate",O,$);for(const _ of Y)_.updateGuards.forEach(S=>{I.push(Pt(S,O,$))});return I.push(g),Fe(I)}).then(()=>{I=[];for(const _ of p)if(_.beforeEnter)if(Xe(_.beforeEnter))for(const S of _.beforeEnter)I.push(Pt(S,O,$));else I.push(Pt(_.beforeEnter,O,$));return I.push(g),Fe(I)}).then(()=>(O.matched.forEach(_=>_.enterCallbacks={}),I=vn(p,"beforeRouteEnter",O,$,H),I.push(g),Fe(I))).then(()=>{I=[];for(const _ of o.list())I.push(Pt(_,O,$));return I.push(g),Fe(I)}).catch(_=>ut(_,he.NAVIGATION_CANCELLED)?_:Promise.reject(_))}function Te(O,$,I){a.list().forEach(L=>H(()=>L(O,$,I)))}function Ne(O,$,I,L,Y){const p=w(O,$);if(p)return p;const g=$===Et,_=cr?history.state:{};I&&(L||g?n.replace(O.fullPath,ee({scroll:g&&_&&_.scroll},Y)):n.push(O.fullPath,Y)),l.value=O,Ze(O,$,I,g),bt()}let ke;function $t(){ke||(ke=n.listen((O,$,I)=>{if(!Dt.listening)return;const L=R(O),Y=U(L,Dt.currentRoute.value);if(Y){B(ee(Y,{replace:!0,force:!0}),L).catch(Vr);return}c=L;const p=l.value;cr&&Jd(Ao(p.fullPath,I.delta),en()),ce(L,p).catch(g=>ut(g,he.NAVIGATION_ABORTED|he.NAVIGATION_CANCELLED)?g:ut(g,he.NAVIGATION_GUARD_REDIRECT)?(B(ee(m(g.to),{force:!0}),L).then(_=>{ut(_,he.NAVIGATION_ABORTED|he.NAVIGATION_DUPLICATED)&&!I.delta&&I.type===Vn.pop&&n.go(-1,!1)}).catch(Vr),Promise.reject()):(I.delta&&n.go(-I.delta,!1),Z(g,L,p))).then(g=>{g=g||Ne(L,p,!1),g&&(I.delta&&!ut(g,he.NAVIGATION_CANCELLED)?n.go(-I.delta,!1):I.type===Vn.pop&&ut(g,he.NAVIGATION_ABORTED|he.NAVIGATION_DUPLICATED)&&n.go(-1,!1)),Te(L,p,g)}).catch(Vr)}))}let wt=xr(),le=xr(),z;function Z(O,$,I){bt(O);const L=le.list();return L.length?L.forEach(Y=>Y(O,$,I)):console.error(O),Promise.reject(O)}function lt(){return z&&l.value!==Et?Promise.resolve():new Promise((O,$)=>{wt.add([O,$])})}function bt(O){return z||(z=!O,$t(),wt.list().forEach(([$,I])=>O?I(O):$()),wt.reset()),O}function Ze(O,$,I,L){const{scrollBehavior:Y}=t;if(!cr||!Y)return Promise.resolve();const p=!I&&zd(Ao(O.fullPath,0))||(L||!I)&&history.state&&history.state.scroll||null;return Js().then(()=>Y(O,$,p)).then(g=>g&&Gd(g)).catch(g=>Z(g,O,$))}const Ce=O=>n.go(O);let Zt;const er=new Set,Dt={currentRoute:l,listening:!0,addRoute:f,removeRoute:v,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:y,resolve:R,options:t,push:T,replace:j,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:le.add,isReady:lt,install(O){O.component("RouterLink",Of),O.component("RouterView",Pf),O.config.globalProperties.$router=Dt,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>pr(l)}),cr&&!Zt&&l.value===Et&&(Zt=!0,T(n.location).catch(L=>{}));const $={};for(const L in Et)Object.defineProperty($,L,{get:()=>l.value[L],enumerable:!0});O.provide(tn,Dt),O.provide(Ai,Ua($)),O.provide(Hn,l);const I=O.unmount;er.add(O),O.unmount=function(){er.delete(O),er.size<1&&(c=Et,ke&&ke(),ke=null,l.value=Et,Zt=!1,z=!1),I()}}};function Fe(O){return O.reduce(($,I)=>$.then(()=>H(I)),Promise.resolve())}return Dt}function h_(){return We(tn)}function d_(t){return We(Ai)}var Wn=function(t,e){return Wn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])},Wn(t,e)};function Bl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Wn(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Us=function(){return Us=Object.assign||function(e){for(var r,s=1,n=arguments.length;s<n;s++){r=arguments[s];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Us.apply(this,arguments)};function Tr(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r}function Ml(t,e,r,s){var n=arguments.length,i=n<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,r):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,s);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(n<3?o(i):n>3?o(e,r,i):o(e,r))||i);return n>3&&i&&Object.defineProperty(e,r,i),i}function Fl(t,e){return function(r,s){e(r,s,t)}}function Vl(t,e,r,s,n,i){function o(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var a=s.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?s.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,s.name):{}),h,d=!1,f=r.length-1;f>=0;f--){var v={};for(var y in s)v[y]=y==="access"?{}:s[y];for(var y in s.access)v.access[y]=s.access[y];v.addInitializer=function(R){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(R||null))};var b=(0,r[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],v);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(h=o(b.get))&&(u.get=h),(h=o(b.set))&&(u.set=h),(h=o(b.init))&&n.unshift(h)}else(h=o(b))&&(a==="field"?n.unshift(h):u[l]=h)}c&&Object.defineProperty(c,s.name,u),d=!0}function ql(t,e,r){for(var s=arguments.length>2,n=0;n<e.length;n++)r=s?e[n].call(t,r):e[n].call(t);return s?r:void 0}function Hl(t){return typeof t=="symbol"?t:"".concat(t)}function Wl(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Kl(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function D(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(s.next(u))}catch(h){o(h)}}function l(u){try{c(s.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((s=s.apply(t,e||[])).next())})}function Gl(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,n,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(s)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(s=1,n&&(i=c[0]&2?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,n=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(u){c=[6,u],n=0}finally{s=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var rn=Object.create?function(t,e,r,s){s===void 0&&(s=r);var n=Object.getOwnPropertyDescriptor(e,r);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,s,n)}:function(t,e,r,s){s===void 0&&(s=r),t[s]=e[r]};function Jl(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&rn(e,t,r)}function Ls(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],s=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ri(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var s=r.call(t),n,i=[],o;try{for(;(e===void 0||e-- >0)&&!(n=s.next()).done;)i.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(o)throw o.error}}return i}function zl(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ri(arguments[e]));return t}function Yl(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var s=Array(t),n=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,n++)s[n]=i[o];return s}function Ql(t,e,r){if(r||arguments.length===2)for(var s=0,n=e.length,i;s<n;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}function Er(t){return this instanceof Er?(this.v=t,this):new Er(t)}function Xl(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(t,e||[]),n,i=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),n[Symbol.asyncIterator]=function(){return this},n;function o(f){return function(v){return Promise.resolve(v).then(f,h)}}function a(f,v){s[f]&&(n[f]=function(y){return new Promise(function(b,R){i.push([f,y,b,R])>1||l(f,y)})},v&&(n[f]=v(n[f])))}function l(f,v){try{c(s[f](v))}catch(y){d(i[0][3],y)}}function c(f){f.value instanceof Er?Promise.resolve(f.value.v).then(u,h):d(i[0][2],f)}function u(f){l("next",f)}function h(f){l("throw",f)}function d(f,v){f(v),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Zl(t){var e,r;return e={},s("next"),s("throw",function(n){throw n}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(n,i){e[n]=t[n]?function(o){return(r=!r)?{value:Er(t[n](o)),done:!1}:i?i(o):o}:i}}function ec(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ls=="function"?Ls(t):t[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),n(a,l,o.done,o.value)})}}function n(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function tc(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Cf=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Kn=function(t){return Kn=Object.getOwnPropertyNames||function(e){var r=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[r.length]=s);return r},Kn(t)};function rc(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Kn(t),s=0;s<r.length;s++)r[s]!=="default"&&rn(e,t,r[s]);return Cf(e,t),e}function sc(t){return t&&t.__esModule?t:{default:t}}function nc(t,e,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(t):s?s.value:e.get(t)}function ic(t,e,r,s,n){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?n.call(t,r):n?n.value=r:e.set(t,r),r}function oc(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function ac(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,n;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],r&&(n=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");n&&(s=function(){try{n.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:s,async:r})}else r&&t.stack.push({async:!0});return e}var xf=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var s=new Error(r);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function lc(t){function e(i){t.error=t.hasError?new xf(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,s=0;function n(){for(;r=t.stack.pop();)try{if(!r.async&&s===1)return s=0,t.stack.push(r),Promise.resolve().then(n);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(i).then(n,function(o){return e(o),n()})}else s|=1}catch(o){e(o)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return n()}function cc(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,n,i,o){return s?e?".jsx":".js":n&&(!i||!o)?r:n+i+"."+o.toLowerCase()+"js"}):t}const If={__extends:Bl,__assign:Us,__rest:Tr,__decorate:Ml,__param:Fl,__esDecorate:Vl,__runInitializers:ql,__propKey:Hl,__setFunctionName:Wl,__metadata:Kl,__awaiter:D,__generator:Gl,__createBinding:rn,__exportStar:Jl,__values:Ls,__read:Ri,__spread:zl,__spreadArrays:Yl,__spreadArray:Ql,__await:Er,__asyncGenerator:Xl,__asyncDelegator:Zl,__asyncValues:ec,__makeTemplateObject:tc,__importStar:rc,__importDefault:sc,__classPrivateFieldGet:nc,__classPrivateFieldSet:ic,__classPrivateFieldIn:oc,__addDisposableResource:ac,__disposeResources:lc,__rewriteRelativeImportExtension:cc},jf=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:ac,get __assign(){return Us},__asyncDelegator:Zl,__asyncGenerator:Xl,__asyncValues:ec,__await:Er,__awaiter:D,__classPrivateFieldGet:nc,__classPrivateFieldIn:oc,__classPrivateFieldSet:ic,__createBinding:rn,__decorate:Ml,__disposeResources:lc,__esDecorate:Vl,__exportStar:Jl,__extends:Bl,__generator:Gl,__importDefault:sc,__importStar:rc,__makeTemplateObject:tc,__metadata:Kl,__param:Fl,__propKey:Hl,__read:Ri,__rest:Tr,__rewriteRelativeImportExtension:cc,__runInitializers:ql,__setFunctionName:Wl,__spread:zl,__spreadArray:Ql,__spreadArrays:Yl,__values:Ls,default:If},Symbol.toStringTag,{value:"Module"})),Nf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>qe(async()=>{const{default:s}=await Promise.resolve().then(()=>Xt);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)};class Pi extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class Bo extends Pi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Mo extends Pi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Fo extends Pi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Gn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Gn||(Gn={}));class $f{constructor(e,{headers:r={},customFetch:s,region:n=Gn.Any}={}){this.url=e,this.headers=r,this.region=n,this.fetch=Nf(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return D(this,arguments,void 0,function*(r,s={}){var n;try{const{headers:i,method:o,body:a,signal:l}=s;let c={},{region:u}=s;u||(u=this.region);const h=new URL(`${this.url}/${r}`);u&&u!=="any"&&(c["x-region"]=u,h.searchParams.set("forceFunctionRegion",u));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(c["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(c["Content-Type"]="application/json",d=JSON.stringify(a)):d=a;const f=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:d,signal:l}).catch(R=>{throw R.name==="AbortError"?R:new Bo(R)}),v=f.headers.get("x-relay-error");if(v&&v==="true")throw new Mo(f);if(!f.ok)throw new Fo(f);let y=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield f.json():y==="application/octet-stream"||y==="application/pdf"?b=yield f.blob():y==="text/event-stream"?b=f:y==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Bo(i)}:{data:null,error:i,response:i instanceof Fo||i instanceof Mo?i.context:void 0}}})}}function uc(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var n=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,n.get?n:{enumerable:!0,get:function(){return t[s]}})}),r}var je={};const Ar=uc(jf);var ds={},fs={},ps={},gs={},_s={},Df=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Sr=Df();const Uf=Sr.fetch,hc=Sr.fetch.bind(Sr),dc=Sr.Headers,Lf=Sr.Request,Bf=Sr.Response,Xt=Object.freeze(Object.defineProperty({__proto__:null,Headers:dc,Request:Lf,Response:Bf,default:hc,fetch:Uf},Symbol.toStringTag,{value:"Module"})),Mf=uc(Xt);var ms={},Vo;function fc(){if(Vo)return ms;Vo=1,Object.defineProperty(ms,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ms.default=t,ms}var qo;function pc(){if(qo)return _s;qo=1,Object.defineProperty(_s,"__esModule",{value:!0});const t=Ar,e=t.__importDefault(Mf),r=t.__importDefault(fc());class s{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,d,f;let v=null,y=null,b=null,R=c.status,m=c.statusText;if(c.ok){if(this.method!=="HEAD"){const U=await c.text();U===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=U:y=JSON.parse(U))}const T=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),j=(d=c.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");T&&j&&j.length>1&&(b=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(v={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,b=null,R=406,m="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const T=await c.text();try{v=JSON.parse(T),Array.isArray(v)&&c.status===404&&(y=[],v=null,R=200,m="OK")}catch{c.status===404&&T===""?(R=204,m="No Content"):v={message:T}}if(v&&this.isMaybeSingle&&(!((f=v==null?void 0:v.details)===null||f===void 0)&&f.includes("0 rows"))&&(v=null,R=200,m="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:y,count:b,status:R,statusText:m}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,d;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(h=c==null?void 0:c.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=c==null?void 0:c.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return _s.default=s,_s}var Ho;function gc(){if(Ho)return gs;Ho=1,Object.defineProperty(gs,"__esModule",{value:!0});const e=Ar.__importDefault(pc());class r extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${d}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return gs.default=r,gs}var Wo;function ki(){if(Wo)return ps;Wo=1,Object.defineProperty(ps,"__esModule",{value:!0});const e=Ar.__importDefault(gc());class r extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${c}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return ps.default=r,ps}var Ko;function _c(){if(Ko)return fs;Ko=1,Object.defineProperty(fs,"__esModule",{value:!0});const e=Ar.__importDefault(ki());class r{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(n,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const u=(n??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const c=n.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const h=n.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(h.length>0){const d=[...new Set(h)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(n,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:n}={}){var i;const o="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return fs.default=r,fs}var Go;function Ff(){if(Go)return ds;Go=1,Object.defineProperty(ds,"__esModule",{value:!0});const t=Ar,e=t.__importDefault(_c()),r=t.__importDefault(ki());class s{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new s(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let h;const d=new URL(`${this.url}/rpc/${i}`);let f;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([y,b])=>b!==void 0).map(([y,b])=>[y,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([y,b])=>{d.searchParams.append(y,b)})):(h="POST",f=o);const v=new Headers(this.headers);return c&&v.set("Prefer",`count=${c}`),new r.default({method:h,url:d,headers:v,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return ds.default=s,ds}Object.defineProperty(je,"__esModule",{value:!0});je.PostgrestError=je.PostgrestBuilder=je.PostgrestTransformBuilder=je.PostgrestFilterBuilder=je.PostgrestQueryBuilder=je.PostgrestClient=void 0;const Rr=Ar,mc=Rr.__importDefault(Ff());je.PostgrestClient=mc.default;const vc=Rr.__importDefault(_c());je.PostgrestQueryBuilder=vc.default;const yc=Rr.__importDefault(ki());je.PostgrestFilterBuilder=yc.default;const wc=Rr.__importDefault(gc());je.PostgrestTransformBuilder=wc.default;const bc=Rr.__importDefault(pc());je.PostgrestBuilder=bc.default;const Ec=Rr.__importDefault(fc());je.PostgrestError=Ec.default;var Vf=je.default={PostgrestClient:mc.default,PostgrestQueryBuilder:vc.default,PostgrestFilterBuilder:yc.default,PostgrestTransformBuilder:wc.default,PostgrestBuilder:bc.default,PostgrestError:Ec.default};const{PostgrestClient:qf,PostgrestQueryBuilder:f_,PostgrestFilterBuilder:p_,PostgrestTransformBuilder:g_,PostgrestBuilder:__,PostgrestError:m_}=Vf;class Hf{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,n=parseInt(s.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Wf="2.76.1",Kf=`realtime-js/${Wf}`,Gf="1.0.0",Jn=1e4,Jf=1e3,zf=100;var qr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(qr||(qr={}));var _e;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_e||(_e={}));var ze;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ze||(ze={}));var zn;(function(t){t.websocket="websocket"})(zn||(zn={}));var Ht;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ht||(Ht={}));class Yf{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const n=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+n));o=o+n;const l=s.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Sc{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(oe||(oe={}));const Jo=(t,e,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Qf(o,t,e,n),i),{}):{}},Qf=(t,e,r,s)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=r[t];return i&&!s.includes(i)?Oc(i,o):Yn(o)},Oc=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return tp(e,r)}switch(t){case oe.bool:return Xf(e);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return Zf(e);case oe.json:case oe.jsonb:return ep(e);case oe.timestamp:return rp(e);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return Yn(e);default:return Yn(e)}},Yn=t=>t,Xf=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Zf=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ep=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},tp=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Oc(e,a))}return t},rp=t=>typeof t=="string"?t.replace(" ","T"):t,Tc=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class yn{constructor(e,r,s={},n=Jn){this.channel=e,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zo;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zo||(zo={}));class Hr{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hr.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Hr.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Hr.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,n){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const d=u.map(b=>b.presence_ref),f=h.map(b=>b.presence_ref),v=u.filter(b=>f.indexOf(b.presence_ref)<0),y=h.filter(b=>d.indexOf(b.presence_ref)<0);v.length>0&&(a[c]=v),y.length>0&&(l[c]=y)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},s,n)}static syncDiff(e,r,s,n){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}s(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const n=e[s];return"metas"in n?r[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yo;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Yo||(Yo={}));var Wr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Wr||(Wr={}));var dt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(dt||(dt={}));class Ci{constructor(e,r={config:{}},s){var n,i;if(this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=_e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new yn(this,ze.join,this.params,this.timeout),this.rejoinTimer=new Sc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_e.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ze.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Hr(this),this.broadcastEndpointURL=Tc(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var s,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==_e.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[Wr.PRESENCE]&&this.bindings[Wr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e==null?void 0:e(dt.CHANNEL_ERROR,f)),this._onClose(()=>e==null?void 0:e(dt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket.setAuth(),f===void 0){e==null||e(dt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,R=[];for(let m=0;m<b;m++){const w=y[m],{filter:{event:T,schema:j,table:U,filter:B}}=w,W=f&&f[m];if(W&&W.event===T&&W.schema===j&&W.table===U&&W.filter===B)R.push(Object.assign(Object.assign({},w),{id:W.id}));else{this.unsubscribe(),this.state=_e.errored,e==null||e(dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,e&&e(dt.SUBSCRIBED);return}}).receive("error",f=>{this.state=_e.errored,e==null||e(dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===_e.joined&&e===Wr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async httpSend(e,r,s={}){var n;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_e.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ze.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new yn(this,ze.leave,{},e),s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_e.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),o}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new yn(this,e,r,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>zf){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=ze;if(s&&[a,l,c,u].indexOf(o)>=0&&s!==this._joinRef())return;let d=this._onMessage(o,r,s);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var v,y,b;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(y=f.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(f=>f.callback(d,s)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var v,y,b,R,m,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const T=f.id,j=(v=f.filter)===null||v===void 0?void 0:v.event;return T&&((y=r.ids)===null||y===void 0?void 0:y.includes(T))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const T=(m=(R=f==null?void 0:f.filter)===null||R===void 0?void 0:R.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return T==="*"||T===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const v=d.data,{schema:y,table:b,commit_timestamp:R,type:m,errors:w}=v;d=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:R,eventType:m,new:{},old:{},errors:w}),this._getPayloadRecords(v))}f.callback(d,s)})}_isClosed(){return this.state===_e.closed}_isJoined(){return this.state===_e.joined}_isJoining(){return this.state===_e.joining}_isLeaving(){return this.state===_e.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const n=e.toLocaleLowerCase(),i={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Ci.isEqual(n.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ze.close,{},e)}_onError(e){this._on(ze.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_e.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Jo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Jo(e.columns,e.old_record)),r}}const wn=()=>{},vs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sp=[1e3,2e3,5e3,1e4],np=1e4,ip=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class op{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jn,this.transport=null,this.heartbeatIntervalMs=vs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wn,this.ref=0,this.reconnectTimer=null,this.logger=wn,this.conn=null,this.sendBuffer=[],this.serializer=new Yf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...o)=>qe(async()=>{const{default:a}=await Promise.resolve().then(()=>Xt);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${zn.websocket}`,this.httpEndpoint=Tc(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Hf.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gf}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case qr.connecting:return Ht.Connecting;case qr.open:return Ht.Open;case qr.closing:return Ht.Closing;default:return Ht.Closed}}isConnected(){return this.connectionState()===Ht.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===s);if(n)return n;{const i=new Ci(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:s,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Jf,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},vs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:n,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${s} ${n} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(n,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ze.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${s}${n}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([ip],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const n={access_token:r,version:Kf};r&&s.updateJoinPayload(n),s.joinedOnce&&s._isJoined()&&s._push(ze.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Sc(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},vs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,n,i,o,a,l,c,u;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Jn,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:vs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:wn,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>sp[h-1]||np,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,d)=>d(JSON.stringify(h)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class xi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ue(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ap extends xi{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Qn extends xi{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Ii=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>qe(async()=>{const{default:s}=await Promise.resolve().then(()=>Xt);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},lp=()=>D(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qe(()=>Promise.resolve().then(()=>Xt),void 0)).Response:Response}),Xn=t=>{if(Array.isArray(t))return t.map(r=>Xn(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Xn(s)}),e},cp=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},bn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),up=(t,e,r)=>D(void 0,void 0,void 0,function*(){const s=yield lp();t instanceof s&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const i=t.status||500,o=(n==null?void 0:n.statusCode)||i+"";e(new ap(bn(n),i,o))}).catch(n=>{e(new Qn(bn(n),n))}):e(new Qn(bn(t),t))}),hp=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?n:(cp(s)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(s)):n.body=s,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),r))};function ls(t,e,r,s,n,i){return D(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,hp(e,s,n,i)).then(l=>{if(!l.ok)throw l;return s!=null&&s.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>up(l,a,s))})})}function es(t,e,r,s){return D(this,void 0,void 0,function*(){return ls(t,"GET",e,r,s)})}function Je(t,e,r,s,n){return D(this,void 0,void 0,function*(){return ls(t,"POST",e,s,n,r)})}function Zn(t,e,r,s,n){return D(this,void 0,void 0,function*(){return ls(t,"PUT",e,s,n,r)})}function dp(t,e,r,s){return D(this,void 0,void 0,function*(){return ls(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function ji(t,e,r,s,n){return D(this,void 0,void 0,function*(){return ls(t,"DELETE",e,s,n,r)})}class fp{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return D(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ue(e))return{data:null,error:e};throw e}})}}var Ac;class pp{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Ac]="BlobDownloadBuilder",this.promise=null}asStream(){return new fp(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return D(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ue(e))return{data:null,error:e};throw e}})}}Ac=Symbol.toStringTag;const gp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _p{constructor(e,r={},s,n){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=s,this.fetch=Ii(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,s,n){return D(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Qo),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),h=yield(e=="PUT"?Zn:Je)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ue(i))return{data:null,error:i};throw i}})}upload(e,r,s){return D(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,n){return D(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:Qo.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield Zn(this.fetch,a.toString(),l,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ue(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return D(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);r!=null&&r.upsert&&(n["x-upsert"]="true");const i=yield Je(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new xi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}update(e,r,s){return D(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return D(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}copy(e,r,s){return D(this,void 0,void 0,function*(){try{return{data:{path:(yield Je(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}createSignedUrl(e,r,s){return D(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield Je(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}createSignedUrls(e,r,s){return D(this,void 0,void 0,function*(){try{const n=yield Je(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}download(e,r){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>es(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new pp(l,this.shouldThrowOnError)}info(e){return D(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield es(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Xn(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}exists(e){return D(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield dp(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s)&&s instanceof Qn){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),n=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&n.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${c}`)}}}remove(e){return D(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}list(e,r,s){return D(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},gp),r),{prefix:e||""});return{data:yield Je(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}listV2(e,r){return D(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Je(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Rc="2.76.1",Pc={"X-Client-Info":`storage-js/${Rc}`};class mp{constructor(e,r={},s,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pc),r),this.fetch=Ii(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return D(this,void 0,void 0,function*(){try{return{data:yield es(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ue(e))return{data:null,error:e};throw e}})}getBucket(e){return D(this,void 0,void 0,function*(){try{return{data:yield es(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}createBucket(e){return D(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield Je(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ue(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return D(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ue(s))return{data:null,error:s};throw s}})}emptyBucket(e){return D(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}deleteBucket(e){return D(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}}class vp{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Pc),r),this.fetch=Ii(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return D(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}listBuckets(e){return D(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const s=r.toString(),n=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`,i=yield es(this.fetch,n,{headers:this.headers});return{data:Array.isArray(i)?i.filter(a=>a.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}deleteBucket(e){return D(this,void 0,void 0,function*(){try{return{data:yield ji(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ue(r))return{data:null,error:r};throw r}})}}const Ni={"X-Client-Info":`storage-js/${Rc}`,"Content-Type":"application/json"};class kc extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Le(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class En extends kc{constructor(e,r,s){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yp extends kc{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Xo;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Xo||(Xo={}));const $i=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>qe(async()=>{const{default:s}=await Promise.resolve().then(()=>Xt);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},wp=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Zo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bp=(t,e,r)=>D(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";e(new En(Zo(o),n,a))}).catch(()=>{const o=n+"",a=i.statusText||`HTTP ${n} error`;e(new En(a,n,o))});else{const o=n+"",a=i.statusText||`HTTP ${n} error`;e(new En(a,n,o))}}else e(new yp(Zo(t),t))}),Ep=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return s?(wp(s)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(s)):n.body=s,Object.assign(Object.assign({},n),r)):n};function Sp(t,e,r,s,n,i){return D(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Ep(e,s,n,i)).then(l=>{if(!l.ok)throw l;if(s!=null&&s.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>bp(l,a,s))})})}function Be(t,e,r,s,n){return D(this,void 0,void 0,function*(){return Sp(t,"POST",e,s,n,r)})}class Op{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ni),r),this.fetch=$i(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return D(this,void 0,void 0,function*(){try{return{data:(yield Be(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}getIndex(e,r){return D(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}})}listIndexes(e){return D(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return D(this,void 0,void 0,function*(){try{return{data:(yield Be(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Le(s))return{data:null,error:s};throw s}})}}class Tp{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ni),r),this.fetch=$i(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return D(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Be(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}getVectors(e){return D(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}listVectors(e){return D(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Be(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}queryVectors(e){return D(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}deleteVectors(e){return D(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Be(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}}class Ap{constructor(e,r={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ni),r),this.fetch=$i(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return D(this,void 0,void 0,function*(){try{return{data:(yield Be(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}getBucket(e){return D(this,void 0,void 0,function*(){try{return{data:yield Be(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}listBuckets(){return D(this,arguments,void 0,function*(e={}){try{return{data:yield Be(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}deleteBucket(e){return D(this,void 0,void 0,function*(){try{return{data:(yield Be(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}}class Rp extends Ap{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Pp(this.url,this.headers,e,this.fetch)}}class Pp extends Op{constructor(e,r,s,n){super(e,r,n),this.vectorBucketName=s}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return D(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return D(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return D(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return D(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new kp(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class kp extends Tp{constructor(e,r,s,n,i){super(e,r,i),this.vectorBucketName=s,this.indexName=n}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return D(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return D(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return D(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return D(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return D(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Cp extends mp{constructor(e,r={},s,n){super(e,r,s,n)}from(e){return new _p(this.url,this.headers,e,this.fetch)}get vectors(){return new Rp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vp(this.url+"/iceberg",this.headers,this.fetch)}}const xp="2.76.1";let jr="";typeof Deno<"u"?jr="deno":typeof document<"u"?jr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jr="react-native":jr="node";const Ip={"X-Client-Info":`supabase-js-${jr}/${xp}`},jp={headers:Ip},Np={schema:"public"},$p={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dp={},Up=t=>{let e;return t?e=t:typeof fetch>"u"?e=hc:e=fetch,(...r)=>e(...r)},Lp=()=>typeof Headers>"u"?dc:Headers,Bp=(t,e,r)=>{const s=Up(r),n=Lp();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),s(i,Object.assign(Object.assign({},o),{headers:c}))}};function Mp(t){return t.endsWith("/")?t:t+"/"}function Fp(t,e){var r,s;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,d={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}function Vp(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Mp(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Cc="2.76.1",ur=30*1e3,ei=3,Sn=ei*ur,qp="http://localhost:9999",Hp="supabase.auth.token",Wp={"X-Client-Info":`gotrue-js/${Cc}`},ti="X-Supabase-Api-Version",xc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Kp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gp=10*60*1e3;class ts extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function F(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Jp extends ts{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function zp(t){return F(t)&&t.name==="AuthApiError"}class Wt extends ts{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Nt extends ts{constructor(e,r,s,n){super(e,s,n),this.name=r,this.status=s}}class Tt extends Nt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yp(t){return F(t)&&t.name==="AuthSessionMissingError"}class sr extends Nt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ys extends Nt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ws extends Nt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qp(t){return F(t)&&t.name==="AuthImplicitGrantRedirectError"}class ea extends Nt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ri extends Nt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function On(t){return F(t)&&t.name==="AuthRetryableFetchError"}class ta extends Nt{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class si extends Nt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ra=` 	
\r=`.split(""),Xp=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ra.length;e+=1)t[ra[e].charCodeAt(0)]=-2;for(let e=0;e<Bs.length;e+=1)t[Bs[e].charCodeAt(0)]=e;return t})();function sa(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Bs[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(Bs[s]),e.queuedBits-=6}}function Ic(t,e,r){const s=Xp[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function na(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{tg(o,s,r)};for(let o=0;o<t.length;o+=1)Ic(t.charCodeAt(o),n,i);return e.join("")}function Zp(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function eg(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}Zp(s,e)}}function tg(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function mr(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Ic(t.charCodeAt(n),r,s);return new Uint8Array(e)}function rg(t){const e=[];return eg(t,r=>e.push(r)),new Uint8Array(e)}function Jt(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};return t.forEach(n=>sa(n,r,s)),sa(null,r,s),e.join("")}function sg(t){return Math.round(Date.now()/1e3)+t}function ng(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ue=()=>typeof window<"u"&&typeof document<"u",Bt={tested:!1,writable:!1},jc=()=>{if(!Ue())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bt.tested)return Bt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Bt.tested=!0,Bt.writable=!0}catch{Bt.tested=!0,Bt.writable=!1}return Bt.writable};function ig(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return r.searchParams.forEach((s,n)=>{e[n]=s}),e}const Nc=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>qe(async()=>{const{default:s}=await Promise.resolve().then(()=>Xt);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},og=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",hr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Mt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},St=async(t,e)=>{await t.removeItem(e)};class sn{constructor(){this.promise=new sn.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}sn.promiseConstructor=Promise;function Tn(t){const e=t.split(".");if(e.length!==3)throw new si("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Kp.test(e[s]))throw new si("JWT not in base64url format");return{header:JSON.parse(na(e[0])),payload:JSON.parse(na(e[1])),signature:mr(e[2]),raw:{header:e[0],payload:e[1]}}}async function ag(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function lg(t,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function cg(t){return("0"+t.toString(16)).substr(-2)}function ug(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,cg).join("")}async function hg(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function dg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await hg(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nr(t,e,r=!1){const s=ug();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await hr(t,`${e}-code-verifier`,n);const i=await dg(s);return[i,s===i?"plain":"s256"]}const fg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pg(t){const e=t.headers.get(ti);if(!e||!e.match(fg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function gg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _g(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ir(t){if(!mg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function An(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ia(t){return JSON.parse(JSON.stringify(t))}const qt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vg=[502,503,504];async function oa(t){var e;if(!og(t))throw new ri(qt(t),0);if(vg.includes(t.status))throw new ri(qt(t),t.status);let r;try{r=await t.json()}catch(i){throw new Wt(qt(i),i)}let s;const n=pg(t);if(n&&n.getTime()>=xc["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new ta(qt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new Tt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ta(qt(r),t.status,r.weak_password.reasons);throw new Jp(qt(r),t.status||500,s)}const yg=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function G(t,e,r,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[ti]||(i[ti]=xc["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await wg(t,e,r+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(l):{data:Object.assign({},l),error:null}}async function wg(t,e,r,s,n,i){const o=yg(e,s,n,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new ri(qt(l),0)}if(a.ok||await oa(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(l){await oa(l)}}function Ge(t){var e;let r=null;Sg(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=sg(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function aa(t){const e=Ge(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ct(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function bg(t){return{data:t,error:null}}function Eg(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i}=t,o=Tr(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function la(t){return t}function Sg(t){return t.access_token&&t.refresh_token&&t.expires_in}const Rn=["global","local","others"];class Og{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=Nc(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Rn[0]){if(Rn.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rn.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ct})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=Tr(e,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Eg,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(F(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ct})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:la});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=y}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(F(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){ir(e);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ct})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ir(e);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ct})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){ir(e);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ct})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){ir(e.userId);try{const{data:r,error:s}=await G(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ir(e.userId),ir(e.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,s,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await G(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:la});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=y}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(F(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await G(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await G(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await G(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}}function ca(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const or={debug:!!(globalThis&&jc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $c extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Tg extends $c{}async function Ag(t,e,r){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await r()}finally{or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Tg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(or.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Rg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dc(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Pg(t){return parseInt(t,16)}function kg(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function Cg(t){var e;const{chainId:r,domain:s,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:d}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=Dc(t.address),v=u?`${u}://${s}`:s,y=t.statement?`${t.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${f}

${y}`;let R=`URI: ${h}
Version: ${d}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(R+=`
Expiration Time: ${n.toISOString()}`),a&&(R+=`
Not Before: ${a.toISOString()}`),l&&(R+=`
Request ID: ${l}`),c){let m=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);m+=`
- ${w}`}R+=m}return`${b}
${R}`}class fe extends Error{constructor({message:e,code:r,cause:s,name:n}){var i;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=n??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ms extends fe{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function xg({error:t,options:e}){var r,s,n;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new fe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Uc(o)){if(i.rp.id!==o)return new fe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Ig({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new fe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Uc(s)){if(r.rpId!==s)return new fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class jg{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Ng=new jg;function $g(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:s}=t,n=Tr(t,["challenge","user","excludeCredentials"]),i=mr(e).buffer,o=Object.assign(Object.assign({},r),{id:mr(r.id).buffer}),a=Object.assign(Object.assign({},n),{challenge:i,user:o});if(s&&s.length>0){a.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const c=s[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:mr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Dg(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,s=Tr(t,["challenge","allowCredentials"]),n=mr(e).buffer,i=Object.assign(Object.assign({},s),{challenge:n});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:mr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Ug(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Jt(new Uint8Array(t.response.attestationObject)),clientDataJSON:Jt(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Lg(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,s=t.getClientExtensionResults(),n=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Jt(new Uint8Array(n.authenticatorData)),clientDataJSON:Jt(new Uint8Array(n.clientDataJSON)),signature:Jt(new Uint8Array(n.signature)),userHandle:n.userHandle?Jt(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Uc(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function ua(){var t,e;return!!(Ue()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Bg(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ms("Browser returned unexpected credential type",e)}:{data:null,error:new Ms("Empty credential response",e)}}catch(e){return{data:null,error:xg({error:e,options:t})}}}async function Mg(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ms("Browser returned unexpected credential type",e)}:{data:null,error:new Ms("Empty credential response",e)}}catch(e){return{data:null,error:Ig({error:e,options:t})}}}const Fg={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Vg={userVerification:"preferred",hints:["security-key"]};function Fs(...t){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),r=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),s={};for(const n of t)if(n)for(const i in n){const o=n[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(r(o))s[i]=o;else if(e(o)){const a=s[i];e(a)?s[i]=Fs(a,o):s[i]=Fs(o)}else s[i]=o}return s}function qg(t,e){return Fs(Fg,t,e||{})}function Hg(t,e){return Fs(Vg,t,e||{})}class Wg{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:s,signal:n},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=n??Ng.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${s}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=qg(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:h}=await Bg({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}case"request":{const c=Hg(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:h}=await Mg(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:h}}}}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new Wt("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n}},i){if(!r)return{data:null,error:new ts("rpId is required for WebAuthn authentication")};try{if(!ua())return{data:null,error:new Wt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:s},signal:n},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new Wt("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:n},i){if(!r)return{data:null,error:new ts("rpId is required for WebAuthn registration")};try{if(!ua())return{data:null,error:new Wt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:n},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return F(o)?{data:null,error:o}:{data:null,error:new Wt("Unexpected error in register",o)}}}}Rg();const Kg={url:qp,storageKey:Hp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ha(t,e,r){return await r()}const ar={};class rs{get jwks(){var e,r;return(r=(e=ar[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ar[this.storageKey]=Object.assign(Object.assign({},ar[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ar[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ar[this.storageKey]=Object.assign(Object.assign({},ar[this.storageKey]),{cachedAt:e})}constructor(e){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rs.nextInstanceID,rs.nextInstanceID+=1,this.instanceID>0&&Ue()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Kg),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Og({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Nc(n.fetch),this.lock=n.lock||ha,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ue()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Ag:this.lock=ha,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Wg(this)},this.persistSession?(n.storage?this.storage=n.storage:jc()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ca(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=ca(this.memoryStorage)),Ue()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Cc}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=ig(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),Ue()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Qp(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return F(r)?{error:r}:{error:new Wt("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,n;try{const i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:Ge}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,s,n;try{let i;if("email"in e){const{email:u,password:h,options:d}=e;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await nr(this.storage,this.storageKey)),i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:h,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:v},xform:Ge})}else if("phone"in e){const{phone:u,password:h,options:d}=e;i=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},channel:(n=d==null?void 0:d.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ge})}else throw new ys("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(F(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:aa})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:aa})}else throw new ys("You must provide either an email or phone number and a password");const{data:s,error:n}=r;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new sr}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,s,n,i,o,a,l,c,u,h,d;let f,v;if("message"in e)f=e.message,v=e.signature;else{const{chain:y,wallet:b,statement:R,options:m}=e;let w;if(Ue())if(typeof b=="object")w=b;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")w=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const T=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=Dc(j[0]);let B=(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!B){const H=await w.request({method:"eth_chainId"});B=Pg(H)}const W={domain:T.host,address:U,statement:R,uri:T.href,version:"1",chainId:B,nonce:(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=Cg(W),v=await w.request({method:"personal_sign",params:[kg(f),U]})}try{const{data:y,error:b}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Ge});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new sr}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(F(y))return{data:{user:null,session:null},error:y};throw y}}async signInWithSolana(e){var r,s,n,i,o,a,l,c,u,h,d,f;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:b,wallet:R,statement:m,options:w}=e;let T;if(Ue())if(typeof R=="object")T=R;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))T=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=R}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const U=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),m?{statement:m}:null));let B;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")B=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)B=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)v=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),y=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(n=(s=w==null?void 0:w.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const U=await T.signMessage(new TextEncoder().encode(v),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=U}}try{const{data:b,error:R}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Jt(y)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ge});if(R)throw R;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new sr}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:R})}catch(b){if(F(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const r=await Mt(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{const{data:i,error:o}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Ge});if(await St(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new sr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(F(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:s,token:n,access_token:i,nonce:o}=e,a=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ge}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new sr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,s,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await nr(this.storage,this.storageKey));const{error:h}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new ys("You must provide either an email or phone number.")}catch(a){if(F(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,s;try{let n,i;"options"in e&&(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Ge});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var r,s,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await nr(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:bg})}catch(i){if(F(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new Tt;const{error:n}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(F(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:o}=await G(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:o,error:a}=await G(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ys("You must provide either an email or phone number and a type")}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Mt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Sn:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await Mt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=An()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ct}):await this._useSession(async r=>{var s,n,i;const{data:o,error:a}=r;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Tt}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Ct})})}catch(r){if(F(r))return Yp(r)&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new Tt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await nr(this.storage,this.storageKey));const{data:c,error:u}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ct});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Tt;const r=Date.now()/1e3;let s=r,n=!0,i=null;const{payload:o}=Tn(e.access_token);if(o.exp&&(s=o.exp,n=s<=r),n){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(F(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new Tt;const{data:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(F(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ue())throw new ws("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ws(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ea("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ws("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ea("No code detected.");const{data:m,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new ws("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=ur&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=d-h;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,d,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,d,u);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const R={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:e.type},error:null}}catch(s){if(F(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Mt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{error:i};const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(zp(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=ng(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,n;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await nr(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(F(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:s,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:d}=i;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return Ue()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(F(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var s;try{const{error:n,data:{session:i}}=r;if(n)throw n;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,h=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ge}),{data:d,error:f}=h;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new sr}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),{data:d,error:f})}catch(n){if(F(n))return{data:{user:null,session:null},error:n};throw n}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)throw o;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await lg(async n=>(n>0&&await ag(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ge})),(n,i)=>{const o=200*Math.pow(2,n);return i&&On(i)&&Date.now()+o-s<ur})}catch(s){if(this._debug(r,"error",s),F(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),Ue()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await Mt(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Mt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await hr(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:An()}else if(n&&!n.user&&!n.user){const o=await Mt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await St(this.storage,this.storageKey+"-user"),await hr(this.storage,this.storageKey,n)):n.user=An()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Sn;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Sn}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),On(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new Tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new sn;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Tt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),F(i)){const o={data:null,error:i};return On(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,r,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await hr(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const i=ia(n);await hr(this.storage,this.storageKey,i)}else{const n=ia(r);await hr(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await St(this.storage,this.storageKey),await St(this.storage,this.storageKey+"-code-verifier"),await St(this.storage,this.storageKey+"-user"),this.userStorage&&await St(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ue()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ur);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/ur);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ur}ms, refresh threshold is ${ei} ticks`),n<=ei&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $c)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ue()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await nr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?{data:null,error:i}:await G(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await G(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&l.type==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Ug(e.webauthn.credential_response):Lg(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(F(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{data:null,error:i};const o=await G(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:$g(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Dg(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(F(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const n={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])n.all.push(i),i.status==="verified"&&n[i.factor_type].push(i);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,s;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Tn(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((s=(r=n.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(a=>a.kid===e);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+Gp>n)return s;const{data:i,error:o}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,s=i.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:f,error:v}=await this.getSession();if(v||!f.session)return{data:null,error:v};s=f.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=Tn(s);r!=null&&r.allowExpired||gg(i.exp);const c=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:f}=await this.getUser(s);if(f)throw f;return{data:{claims:i,header:n,signature:o},error:null}}const u=_g(n.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,rg(`${a}.${l}`)))throw new si("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}}}rs.nextInstanceID=0;const Gg=rs;class Jg extends Gg{constructor(e){super(e)}}class zg{constructor(e,r,s){var n,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=Vp(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Np,realtime:Dp,auth:Object.assign(Object.assign({},$p),{storageKey:l}),global:jp},u=Fp(s??{},c);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Bp(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new qf(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Cp(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new $f(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Jg({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,userStorage:i,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new op(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yg=(t,e,r)=>new zg(t,e,r);function Qg(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Qg()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xg=void 0,Zg=void 0;throw new Error("VITE_SUPABASE_URL não está definida nas variáveis de ambiente");const Ft=Yg(Xg,Zg,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Lc=wd("auth",()=>{const t=Kt(null),e=Kt(null),r=Kt(!1),s=Kt(null),n=Ee(()=>{var m;return!!((m=t.value)!=null&&m.user)}),i=Ee(()=>{var m;return((m=t.value)==null?void 0:m.user)||null}),o=Ee(()=>{var m;return((m=e.value)==null?void 0:m.role)||"viewer"}),a=Ee(()=>{var m;return((m=e.value)==null?void 0:m.company_id)||null}),l=m=>{t.value=m},c=m=>{e.value=m},u=m=>{s.value=m},h=m=>{r.value=m},d=async(m,w,T)=>{try{h(!0),u(null);const{data:j,error:U}=await Ft.auth.signUp({email:w,password:T,options:{data:{name:m}}});if(U)throw U;if(j.user){const{error:B}=await Ft.from("users_profile").insert({id:j.user.id,name:m,email:w,role:"viewer",company_id:null});if(B)throw B}return j}catch(j){throw u(j.message||"Erro ao criar conta"),j}finally{h(!1)}},f=async(m,w)=>{try{h(!0),u(null);const{data:T,error:j}=await Ft.auth.signInWithPassword({email:m,password:w});if(j)throw j;return l(T.session),await y(),T}catch(T){throw u(T.message||"Erro ao fazer login"),T}finally{h(!1)}},v=async()=>{try{h(!0),u(null);const{error:m}=await Ft.auth.signOut();if(m)throw m;l(null),c(null)}catch(m){throw u(m.message||"Erro ao fazer logout"),m}finally{h(!1)}},y=async()=>{if(i.value)try{const{data:m,error:w}=await Ft.from("users_profile").select("*").eq("id",i.value.id).single();if(w)throw w;c(m)}catch(m){console.error("Erro ao buscar perfil:",m),u("Erro ao carregar perfil do usuário")}};return{session:t,profile:e,loading:r,error:s,isAuthenticated:n,currentUser:i,userRole:o,userCompanyId:a,signUp:d,signIn:f,signOut:v,fetchProfile:y,is:m=>o.value===m,initializeAuth:async()=>{try{h(!0);const{data:{session:m}}=await Ft.auth.getSession();m&&(l(m),await y()),Ft.auth.onAuthStateChange(async(w,T)=>{l(T),T?await y():c(null)})}catch(m){console.error("Erro ao inicializar auth:",m),u("Erro ao inicializar autenticação")}finally{h(!1)}},setError:u}}),Di=kf({history:af(),routes:[{path:"/",name:"Home",component:()=>qe(()=>import("./Landing-CgMduMdr.js"),__vite__mapDeps([0,1])),meta:{requiresAuth:!1}},{path:"/login",name:"Login",component:()=>qe(()=>import("./Login-C-RaK9oR.js"),__vite__mapDeps([2,3,4])),meta:{requiresAuth:!1}},{path:"/register",name:"Register",component:()=>qe(()=>import("./Register-C7uq-Kh9.js"),__vite__mapDeps([5,3,4])),meta:{requiresAuth:!1}},{path:"/app",name:"App",component:()=>qe(()=>import("./AppLayout-BI3kjcBD.js"),[]),meta:{requiresAuth:!0},children:[{path:"",redirect:"/app/assets"},{path:"assets",name:"AssetsList",component:()=>qe(()=>import("./AssetsList-w5NN-aF3.js"),__vite__mapDeps([6,7,4])),meta:{requiresAuth:!0}},{path:"assets/:id",name:"AssetDetail",component:()=>qe(()=>import("./AssetDetail-B46axLVv.js"),__vite__mapDeps([8,7,4])),meta:{requiresAuth:!0}}]},{path:"/:pathMatch(.*)*",redirect:"/"}]});Di.beforeEach(async(t,e,r)=>{const s=Lc();if(!t.meta.requiresAuth){r();return}if(!s.isAuthenticated){r({name:"Login",query:{redirect:t.fullPath}});return}if(!s.profile)try{await s.fetchProfile()}catch(n){console.error("Erro ao carregar perfil:",n),r({name:"Login"});return}if(t.name==="AssetDetail"&&t.params.id)try{r()}catch(n){console.error("Erro ao verificar permissão do ativo:",n),r({name:"AssetsList"});return}r()});Di.afterEach((t,e)=>{console.log(`Navegação: ${String(e.name)} → ${String(t.name)}`)});const e_={id:"app",class:"min-h-screen bg-[#FFFFFF] font-sans"},t_=bi({__name:"App",setup(t){const e=Lc();return Ja(async()=>{await e.initializeAuth()}),(r,s)=>{const n=Ku("router-view");return Ns(),Ah("div",e_,[Se(n)])}}}),Ui=hd(t_);Ui.use(pd());Ui.use(Di);Ui.mount("#app");export{c_ as A,a_ as B,wd as C,Ft as D,n_ as E,Ve as F,_l as a,i_ as b,Ah as c,bi as d,Lc as e,Kt as f,kh as g,Se as h,Ku as i,u_ as j,o_ as k,pr as l,r_ as m,Ee as n,Ns as o,ci as p,Ja as q,is as r,za as s,Yc as t,h_ as u,l_ as v,Cu as w,d_ as x,s_ as y,Dn as z};
