import{d as I,f as u,n as M,x as V,q as j,c as i,a as t,h as r,w as a,t as l,p as w,z as g,k as C,l as b,u as z,g as m,o as n}from"./index-CEP2_6OW.js";import{u as $,_ as k,A as E}from"./Card.vue_vue_type_script_setup_true_lang-CZBx6Ahm.js";import{_ as v}from"./Button.vue_vue_type_script_setup_true_lang-BsPwEnMS.js";const N={key:0,class:"flex justify-center py-12"},S={key:1,class:"text-center py-12"},H={class:"mt-6"},L={key:2,class:"space-y-6"},R={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0"},T={class:"text-3xl font-bold text-[#2B4C7E]"},q={class:"mt-2 flex items-center space-x-4"},O={class:"text-sm text-[#6C737F]"},P={class:"flex space-x-3"},G={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},J={class:"lg:col-span-2"},K={class:"space-y-4"},Q={class:"mt-1 text-sm text-[#2B4C7E]"},U={key:0},W={class:"mt-1 text-sm text-[#2B4C7E]"},X={class:"mt-1"},Y={class:"mt-1 text-sm text-[#6C737F] font-mono"},Z={class:"mt-1 text-sm text-[#2B4C7E]"},tt={key:0,class:"space-y-4"},et={class:"mt-1 text-sm text-[#2B4C7E]"},st={class:"mt-1 text-sm text-[#6C737F] font-mono"},ot={class:"mt-1 text-sm text-[#2B4C7E]"},at={key:1,class:"text-center py-4"},lt={class:"space-y-3"},ut=I({__name:"AssetDetail",setup(nt){const A=V(),y=z(),c=$(),s=u(null),d=u(null),p=u(!1),B=u(!1),_=u(!1),h=M(()=>A.params.id),F=async()=>{if(h.value)try{p.value=!0;const o=await E.getAssetById(h.value);if(!o){s.value=null;return}if(!c.canSeeAsset(o.company_id,o.id)){y.push("/app/assets");return}if(s.value=o,o.company_id){const e=await E.getCompanyById(o.company_id);d.value=e}}catch(o){console.error("Erro ao carregar ativo:",o),y.push("/app/assets")}finally{p.value=!1}},x=o=>new Date(o).toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric"}),D=async()=>{if(s.value)try{await navigator.clipboard.writeText(s.value.id),console.log("ID copiado para a área de transferência")}catch(o){console.error("Erro ao copiar ID:",o)}};return j(()=>{F()}),(o,e)=>p.value?(n(),i("div",N,[...e[4]||(e[4]=[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#2B4C7E]"},null,-1)])])):s.value?(n(),i("div",L,[t("div",R,[t("div",null,[t("h1",T,l(s.value.name),1),t("div",q,[t("span",{class:w(["inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",s.value.status==="active"?"bg-[#7AC29A]/10 text-[#7AC29A]":"bg-[#F87171]/10 text-[#F87171]"])},l(s.value.status==="active"?"Ativo":"Inativo"),3),t("span",O," Criado em "+l(x(s.value.created_at)),1)])]),t("div",P,[r(v,{variant:"outline",onClick:e[1]||(e[1]=f=>o.$router.push("/app/assets"))},{default:a(()=>[...e[9]||(e[9]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),m(" Voltar ",-1)])]),_:1}),b(c).canEditAsset(s.value.id)?(n(),g(v,{key:0,variant:"secondary",onClick:e[2]||(e[2]=f=>B.value=!0)},{default:a(()=>[...e[10]||(e[10]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),m(" Editar ",-1)])]),_:1})):C("",!0)])]),t("div",G,[t("div",J,[r(k,null,{header:a(()=>[...e[11]||(e[11]=[t("h2",{class:"text-xl font-semibold text-[#2B4C7E]"},"Informações Básicas",-1)])]),default:a(()=>[t("div",K,[t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-[#6C737F]"},"Nome do Ativo",-1)),t("p",Q,l(s.value.name),1)]),s.value.address?(n(),i("div",U,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-[#6C737F]"},"Endereço",-1)),t("p",W,l(s.value.address),1)])):C("",!0),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-[#6C737F]"},"Status",-1)),t("div",X,[t("span",{class:w(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",s.value.status==="active"?"bg-[#7AC29A]/10 text-[#7AC29A]":"bg-[#F87171]/10 text-[#F87171]"])},l(s.value.status==="active"?"Ativo":"Inativo"),3)])]),t("div",null,[e[15]||(e[15]=t("label",{class:"block text-sm font-medium text-[#6C737F]"},"ID do Ativo",-1)),t("p",Y,l(s.value.id),1)]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-[#6C737F]"},"Data de Criação",-1)),t("p",Z,l(x(s.value.created_at)),1)])])]),_:1})]),t("div",null,[r(k,null,{header:a(()=>[...e[17]||(e[17]=[t("h2",{class:"text-xl font-semibold text-[#2B4C7E]"},"Empresa",-1)])]),default:a(()=>[d.value?(n(),i("div",tt,[t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-[#6C737F]"},"Nome da Empresa",-1)),t("p",et,l(d.value.name),1)]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-[#6C737F]"},"ID da Empresa",-1)),t("p",st,l(d.value.id),1)]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-[#6C737F]"},"Data de Criação",-1)),t("p",ot,l(x(d.value.created_at)),1)])])):(n(),i("div",at,[...e[21]||(e[21]=[t("svg",{class:"mx-auto h-8 w-8 text-[#E8ECEF]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1),t("p",{class:"mt-2 text-sm text-[#6C737F]"},"Nenhuma empresa vinculada",-1)])]))]),_:1}),r(k,{class:"mt-6"},{header:a(()=>[...e[22]||(e[22]=[t("h2",{class:"text-xl font-semibold text-[#2B4C7E]"},"Ações",-1)])]),default:a(()=>[t("div",lt,[r(v,{variant:"outline",size:"sm","full-width":"",onClick:D},{default:a(()=>[...e[23]||(e[23]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1),m(" Copiar ID ",-1)])]),_:1}),b(c).canDeleteAsset(s.value.id)?(n(),g(v,{key:0,variant:"danger",size:"sm","full-width":"",onClick:e[3]||(e[3]=f=>_.value=!0)},{default:a(()=>[...e[24]||(e[24]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),m(" Excluir Ativo ",-1)])]),_:1})):C("",!0)])]),_:1})])])])):(n(),i("div",S,[e[6]||(e[6]=t("svg",{class:"mx-auto h-12 w-12 text-[#E8ECEF]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1)),e[7]||(e[7]=t("h3",{class:"mt-2 text-sm font-medium text-[#6C737F]"},"Ativo não encontrado",-1)),e[8]||(e[8]=t("p",{class:"mt-1 text-sm text-[#6C737F]"},"O ativo solicitado não existe ou você não tem permissão para visualizá-lo.",-1)),t("div",H,[r(v,{variant:"primary",onClick:e[0]||(e[0]=f=>o.$router.push("/app/assets"))},{default:a(()=>[...e[5]||(e[5]=[m(" Voltar para Ativos ",-1)])]),_:1})])]))}});export{ut as default};
